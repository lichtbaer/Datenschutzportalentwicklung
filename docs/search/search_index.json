{"config":{"lang":["de"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Datenschutzportal","text":"<p>Das Datenschutzportal ist eine webbasierte Anwendung zur sicheren Einreichung und Verwaltung von datenschutzrelevanten Dokumenten f\u00fcr Forschungsprojekte.</p>"},{"location":"#system-uberblick","title":"System \u00dcberblick","text":"<pre><code>C4Context\n    title System Context Diagram for Data Protection Portal\n\n    Person(researcher, \"Researcher\", \"University/Clinic Staff submitting documents\")\n    Person(dpo, \"Data Protection Officer\", \"Reviews submitted documents\")\n\n    System_Boundary(portal_boundary, \"Data Protection Portal\") {\n        System(webapp, \"Web Application\", \"React Frontend + FastAPI Backend\")\n    }\n\n    System_Ext(nextcloud, \"Nextcloud\", \"Document Storage (WebDAV)\")\n    System_Ext(smtp, \"SMTP Server\", \"Email Notifications\")\n\n    Rel(researcher, webapp, \"Uploads documents\", \"HTTPS\")\n    Rel(webapp, nextcloud, \"Stores files\", \"WebDAV\")\n    Rel(webapp, smtp, \"Sends emails\", \"SMTP\")\n    Rel(dpo, nextcloud, \"Accesses documents\", \"WebDAV/Web Interface\")\n    Rel(smtp, researcher, \"Sends confirmation\", \"Email\")\n    Rel(smtp, dpo, \"Sends notification\", \"Email\")</code></pre>"},{"location":"#features","title":"Features","text":"<ul> <li>Intuitive Workflow: Schritt-f\u00fcr-Schritt Prozess zur Projekteinreichung.</li> <li>Sicherer Upload: Dateien werden direkt in eine gesicherte Nextcloud-Instanz hochgeladen.</li> <li>Validierung: Automatische Pr\u00fcfung auf Vollst\u00e4ndigkeit und Dateiformate.</li> <li>Benachrichtigungen: Automatische E-Mail-Best\u00e4tigungen f\u00fcr Einreicher und das Datenschutz-Team.</li> <li>Mehrsprachigkeit: Vollst\u00e4ndige Unterst\u00fctzung f\u00fcr Deutsch und Englisch.</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Backend Setup</li> <li>API Dokumentation</li> <li>Frontend Architektur</li> <li>Deployment Guide</li> </ul>"},{"location":"CHANGELOG/","title":"Changelog","text":"<p>Alle wichtigen \u00c4nderungen am Datenschutzportal werden in dieser Datei dokumentiert.</p> <p>Das Format basiert auf Keep a Changelog, und dieses Projekt folgt Semantic Versioning.</p>"},{"location":"CHANGELOG/#unreleased","title":"[Unreleased]","text":""},{"location":"CHANGELOG/#geplant","title":"Geplant","text":"<ul> <li>Backend-Entwicklung mit FastAPI</li> <li>Nextcloud-Integration</li> <li>E-Mail-Service-Konfiguration</li> <li>Projekt-Suchfunktionalit\u00e4t</li> <li>Admin-Dashboard</li> <li>Docker-Deployment</li> </ul>"},{"location":"CHANGELOG/#100-2024-12-12","title":"[1.0.0] - 2024-12-12","text":""},{"location":"CHANGELOG/#hinzugefugt","title":"Hinzugef\u00fcgt","text":""},{"location":"CHANGELOG/#workflow-navigation","title":"Workflow &amp; Navigation","text":"<ul> <li>\u2705 Mehrstufiger Workflow mit Institution-Auswahl</li> <li>\u2705 Projekt-Typ-Auswahl (neu/bestehend)</li> <li>\u2705 Zur\u00fcck-Navigation zwischen Steps</li> <li>\u2705 Breadcrumb-Navigation (visuell)</li> <li>\u2705 Best\u00e4tigungsseite mit Upload-Details</li> </ul>"},{"location":"CHANGELOG/#dokumenten-upload","title":"Dokumenten-Upload","text":"<ul> <li>\u2705 7 kategorisierte Upload-Bereiche:</li> <li>Datenschutzkonzept (Pflicht)</li> <li>\u00dcbernahme der Verantwortung (Pflicht)</li> <li>Schulung Uni Nachweis (Pflicht)</li> <li>Schulung UKF Nachweis (Pflicht)</li> <li>Einwilligung (bedingt Pflicht)</li> <li>Ethikvotum (optional)</li> <li>Sonstiges (optional)</li> <li>\u2705 Drag &amp; Drop Upload-Funktion</li> <li>\u2705 Multi-File Support pro Kategorie</li> <li>\u2705 Dateiliste mit Gr\u00f6\u00dfenangabe</li> <li>\u2705 Datei-Entfernen-Funktion</li> <li>\u2705 Upload-Fortschrittsanzeige (0-100%)</li> <li>\u2705 PDF-Vorschau mit Zoom (50%-200%)</li> </ul>"},{"location":"CHANGELOG/#formular-validierung","title":"Formular &amp; Validierung","text":"<ul> <li>\u2705 E-Mail-Validierung (RegEx)</li> <li>\u2705 Projekttitel (Pflichtfeld)</li> <li>\u2705 Uploader-Name (optional)</li> <li>\u2705 Prospektive Studie Checkbox</li> <li>\u2705 Conditional Required Fields (Einwilligung)</li> <li>\u2705 Echtzeit-Fehleranzeige</li> <li>\u2705 Warning-System f\u00fcr optionale Felder</li> <li>\u2705 Client-seitige Validierung</li> </ul>"},{"location":"CHANGELOG/#internationalisierung","title":"Internationalisierung","text":"<ul> <li>\u2705 Vollst\u00e4ndige DE/EN \u00dcbersetzung (230+ Keys)</li> <li>\u2705 Sprachwechsel-Button</li> <li>\u2705 Context-basiertes i18n System</li> <li>\u2705 Alle UI-Elemente \u00fcbersetzt</li> <li>\u2705 Fehler- und Erfolgsmeldungen \u00fcbersetzt</li> </ul>"},{"location":"CHANGELOG/#uiux","title":"UI/UX","text":"<ul> <li>\u2705 Responsive Design (Mobile/Tablet/Desktop)</li> <li>\u2705 Moderne UI mit Tailwind CSS 4.0</li> <li>\u2705 shadcn/ui Komponenten</li> <li>\u2705 Radix UI f\u00fcr Accessibility</li> <li>\u2705 Lucide React Icons</li> <li>\u2705 Hover-Effekte und Transitions</li> <li>\u2705 Loading States</li> <li>\u2705 Error States</li> <li>\u2705 Success States</li> </ul>"},{"location":"CHANGELOG/#komponenten","title":"Komponenten","text":"<ul> <li>\u2705 DataProtectionPortal (Hauptkomponente)</li> <li>\u2705 InstitutionSelection</li> <li>\u2705 ProjectTypeSelection</li> <li>\u2705 ExistingProjectForm</li> <li>\u2705 FileUploadSection</li> <li>\u2705 UploadProgress</li> <li>\u2705 PDFPreview</li> <li>\u2705 ConfirmationPage</li> <li>\u2705 LanguageSwitch</li> <li>\u2705 30+ wiederverwendbare UI-Komponenten</li> </ul>"},{"location":"CHANGELOG/#dokumentation","title":"Dokumentation","text":"<ul> <li>\u2705 README.md mit Projekt-\u00dcbersicht</li> <li>\u2705 TECH_STACK.md mit Tech-Details</li> <li>\u2705 FRONTEND_ARCHITECTURE.md</li> <li>\u2705 BACKEND_SETUP.md</li> <li>\u2705 API_DOCUMENTATION.md</li> <li>\u2705 DEPLOYMENT.md</li> <li>\u2705 TRANSLATIONS.md</li> <li>\u2705 CONTRIBUTING.md</li> <li>\u2705 CHANGELOG.md</li> </ul>"},{"location":"CHANGELOG/#technische-details","title":"Technische Details","text":""},{"location":"CHANGELOG/#frontend-stack","title":"Frontend Stack","text":"<ul> <li>React mit TypeScript</li> <li>Tailwind CSS 4.0</li> <li>Radix UI 1.1.2+</li> <li>Class Variance Authority 0.7.1</li> <li>Lucide React Icons</li> <li>Context API f\u00fcr State Management</li> </ul>"},{"location":"CHANGELOG/#code-qualitat","title":"Code-Qualit\u00e4t","text":"<ul> <li>TypeScript Strict Mode</li> <li>Functional Components</li> <li>Custom Hooks</li> <li>Component Composition Pattern</li> <li>Type-Safe Props</li> </ul>"},{"location":"CHANGELOG/#010-2024-12-01","title":"[0.1.0] - 2024-12-01","text":""},{"location":"CHANGELOG/#hinzugefugt_1","title":"Hinzugef\u00fcgt","text":"<ul> <li>Projekt-Initialisierung</li> <li>Basis-Struktur</li> <li>Erste Komponenten-Prototypen</li> </ul>"},{"location":"CHANGELOG/#version-history-format","title":"Version History Format","text":"<pre><code>## [Version] - YYYY-MM-DD\n\n### Hinzugef\u00fcgt (Added)\n- Neue Features\n\n### Ge\u00e4ndert (Changed)\n- \u00c4nderungen an bestehendem Code\n\n### Veraltet (Deprecated)\n- Features die bald entfernt werden\n\n### Entfernt (Removed)\n- Entfernte Features\n\n### Behoben (Fixed)\n- Bugfixes\n\n### Sicherheit (Security)\n- Sicherheitsfixes\n</code></pre>"},{"location":"CHANGELOG/#nachste-version-200-geplant","title":"N\u00e4chste Version (2.0.0) - Geplant","text":""},{"location":"CHANGELOG/#backend-integration","title":"Backend Integration","text":""},{"location":"CHANGELOG/#api-endpunkte","title":"API Endpunkte","text":"<ul> <li>[ ] POST <code>/api/upload</code> - Dokument-Upload</li> <li>[ ] GET <code>/api/projects/search</code> - Projektsuche</li> <li>[ ] POST <code>/api/projects/{id}/documents</code> - Dokumente hinzuf\u00fcgen</li> <li>[ ] GET <code>/api/upload/status/{id}</code> - Upload-Status</li> <li>[ ] GET <code>/api/health</code> - Health Check</li> </ul>"},{"location":"CHANGELOG/#services","title":"Services","text":"<ul> <li>[ ] Nextcloud WebDAV Integration</li> <li>[ ] E-Mail-Service (SMTP)</li> <li>[ ] Projekt-Verwaltung</li> <li>[ ] Audit-Logging</li> </ul>"},{"location":"CHANGELOG/#sicherheit","title":"Sicherheit","text":"<ul> <li>[ ] Rate Limiting</li> <li>[ ] Input Sanitization</li> <li>[ ] CSRF Protection</li> <li>[ ] File Type Validation (Server-Side)</li> <li>[ ] Virus Scanning (ClamAV)</li> </ul>"},{"location":"CHANGELOG/#frontend-erweiterungen","title":"Frontend Erweiterungen","text":""},{"location":"CHANGELOG/#features","title":"Features","text":"<ul> <li>[ ] Datei-Upload mit echtem Progress</li> <li>[ ] Drag &amp; Drop File Reordering</li> <li>[ ] Batch-Delete f\u00fcr Dateien</li> <li>[ ] Auto-Save (Draft)</li> <li>[ ] Session Recovery</li> <li>[ ] Offline Support (Service Worker)</li> </ul>"},{"location":"CHANGELOG/#ui-verbesserungen","title":"UI Verbesserungen","text":"<ul> <li>[ ] Dark Mode</li> <li>[ ] Toast Notifications (statt Alerts)</li> <li>[ ] Animationen (Motion)</li> <li>[ ] Skeleton Loading States</li> <li>[ ] Empty States mit Illustrations</li> </ul>"},{"location":"CHANGELOG/#admin-features","title":"Admin Features","text":""},{"location":"CHANGELOG/#dashboard","title":"Dashboard","text":"<ul> <li>[ ] Upload-\u00dcbersicht</li> <li>[ ] Projekt-Verwaltung</li> <li>[ ] Benutzer-Statistiken</li> <li>[ ] Download aller Dokumente</li> <li>[ ] Projekt-Status \u00e4ndern</li> <li>[ ] E-Mail-Templates bearbeiten</li> </ul>"},{"location":"CHANGELOG/#authentifizierung","title":"Authentifizierung","text":"<ul> <li>[ ] Login f\u00fcr Admin-Bereich</li> <li>[ ] JWT-basierte Auth</li> <li>[ ] Role-Based Access Control</li> <li>[ ] Single Sign-On (Uni-Login)</li> </ul>"},{"location":"CHANGELOG/#devops","title":"DevOps","text":""},{"location":"CHANGELOG/#deployment","title":"Deployment","text":"<ul> <li>[ ] Docker Compose Setup</li> <li>[ ] Kubernetes Manifests</li> <li>[ ] CI/CD Pipeline (GitHub Actions)</li> <li>[ ] Automated Testing</li> <li>[ ] Security Scanning</li> </ul>"},{"location":"CHANGELOG/#monitoring","title":"Monitoring","text":"<ul> <li>[ ] Prometheus Metrics</li> <li>[ ] Grafana Dashboards</li> <li>[ ] Error Tracking (Sentry)</li> <li>[ ] Log Aggregation (ELK)</li> <li>[ ] Uptime Monitoring</li> </ul>"},{"location":"CHANGELOG/#dokumentation_1","title":"Dokumentation","text":"<ul> <li>[ ] API Documentation (Swagger/ReDoc)</li> <li>[ ] User Guide (End-User)</li> <li>[ ] Admin Guide</li> <li>[ ] Video Tutorials</li> <li>[ ] FAQ</li> </ul>"},{"location":"CHANGELOG/#support-contact","title":"Support &amp; Contact","text":"<p>Entwickler-Team: dev-team@datenschutzportal.uni-frankfurt.de Datenschutz-Team: datenschutz@uni-frankfurt.de Issue Tracker: https://github.com/uni-frankfurt/datenschutzportal/issues</p>"},{"location":"backend/api/","title":"API Dokumentation","text":"<p>Das Backend basiert auf FastAPI und stellt Endpunkte f\u00fcr Dokumenten-Uploads, Projektmanagement und System-Health-Checks bereit.</p>"},{"location":"backend/api/#endpunkte","title":"Endpunkte","text":""},{"location":"backend/api/#upload","title":"Upload","text":""},{"location":"backend/api/#post-apiupload","title":"<code>POST /api/upload</code>","text":"<p>L\u00e4dt Datenschutzdokumente in die Nextcloud hoch und l\u00f6st Benachrichtigungen aus.</p> <p>Parameter (Multipart/Form-Data):</p> Name Typ Beschreibung Pflichtfeld <code>email</code> string E-Mail-Adresse des Einreichers Ja <code>uploader_name</code> string Name des Einreichers Nein <code>project_title</code> string Titel des Projekts Ja <code>institution</code> string \"university\" oder \"clinic\" Ja <code>is_prospective_study</code> boolean Handelt es sich um eine prospektive Studie? Nein <code>project_details</code> string Zus\u00e4tzliche Details Nein <code>files</code> list[file] Liste der hochzuladenden Dateien Ja <code>file_categories</code> string JSON-String der Dateinamen auf Kategorien abbildet Nein <code>project_type</code> string \"new\" oder \"existing\" Nein (Standard: \"new\") <p>Antwort:</p> <pre><code>{\n  \"success\": true,\n  \"project_id\": \"Projekt_Titel_2023-10-27\",\n  \"timestamp\": \"2023-10-27T10:00:00.000000\",\n  \"files_uploaded\": 3,\n  \"message\": \"Documents uploaded successfully\"\n}\n</code></pre>"},{"location":"backend/api/#get-apiuploadstatusproject_id","title":"<code>GET /api/upload/status/{project_id}</code>","text":"<p>Ruft den Upload-Status und Metadaten f\u00fcr ein bestimmtes Projekt ab.</p>"},{"location":"backend/api/#projekte","title":"Projekte","text":""},{"location":"backend/api/#get-apiprojects","title":"<code>GET /api/projects/</code>","text":"<p>Listet alle Projekte auf (Aktuell leere Liste).</p>"},{"location":"backend/api/#health","title":"Health","text":""},{"location":"backend/api/#get-apihealth","title":"<code>GET /api/health</code>","text":"<p>Health-Check Endpunkt.</p> <p>Antwort: <pre><code>{\n  \"status\": \"ok\"\n}\n</code></pre></p>"},{"location":"backend/api/#upload-workflow","title":"Upload Workflow","text":"<pre><code>sequenceDiagram\n    participant U as Benutzer (Frontend)\n    participant A as API (FastAPI)\n    participant N as Nextcloud\n    participant E as E-Mail Service\n\n    U-&gt;&gt;A: POST /api/upload (Dateien + Metadaten)\n    activate A\n    A-&gt;&gt;A: Validiere Dateien (Gr\u00f6\u00dfe, Typ)\n    A-&gt;&gt;N: Erstelle Projektordner\n\n    loop F\u00fcr jede Datei\n        A-&gt;&gt;N: Lade Datei in Kategorie-Ordner\n    end\n\n    A-&gt;&gt;N: Lade Metadaten hoch (metadata.json)\n    A-&gt;&gt;N: Erstelle README.md\n\n    par Benachrichtigungen\n        A-&gt;&gt;E: Sende Best\u00e4tigungs-E-Mail an Benutzer\n        A-&gt;&gt;E: Sende Benachrichtigung an Team\n    end\n\n    A--&gt;&gt;U: 200 OK (Erfolgsmeldung)\n    deactivate A</code></pre>"},{"location":"backend/setup/","title":"Backend Setup &amp; Integration","text":""},{"location":"backend/setup/#ubersicht","title":"\u00dcbersicht","text":"<p>Das Backend wird mit Python FastAPI entwickelt und bietet REST API Endpunkte f\u00fcr den Upload, Projektmanagement und E-Mail-Benachrichtigungen.</p>"},{"location":"backend/setup/#technologie-stack","title":"Technologie-Stack","text":""},{"location":"backend/setup/#core","title":"Core","text":"<ul> <li>Python: 3.11+</li> <li>FastAPI: 0.100+</li> <li>Uvicorn: ASGI Server</li> <li>Pydantic: Data Validation</li> </ul>"},{"location":"backend/setup/#datei-speicherung","title":"Datei-Speicherung","text":"<ul> <li>WebDAV Client: Nextcloud Integration</li> <li>Libraries: <code>webdavclient3</code> oder <code>easywebdav</code></li> </ul>"},{"location":"backend/setup/#e-mail","title":"E-Mail","text":"<ul> <li>SMTP: Python <code>smtplib</code></li> <li>Jinja2: E-Mail Templates</li> </ul>"},{"location":"backend/setup/#optional","title":"Optional","text":"<ul> <li>SQLite/PostgreSQL: Projekt-Metadaten</li> <li>Redis: Session Management / Caching</li> </ul>"},{"location":"backend/setup/#projektstruktur-backend","title":"Projektstruktur (Backend)","text":"<pre><code>backend/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 main.py                 # FastAPI App\n\u2502   \u251c\u2500\u2500 config.py               # Konfiguration\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 project.py          # Pydantic Models\n\u2502   \u2502   \u2514\u2500\u2500 upload.py\n\u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 upload.py           # Upload Endpoints\n\u2502   \u2502   \u251c\u2500\u2500 projects.py         # Projekt-Management\n\u2502   \u2502   \u2514\u2500\u2500 health.py           # Health Check\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 nextcloud.py        # WebDAV Integration\n\u2502   \u2502   \u251c\u2500\u2500 email_service.py    # E-Mail Versand\n\u2502   \u2502   \u2514\u2500\u2500 validation.py       # Business Logic\n\u2502   \u251c\u2500\u2500 utils/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 helpers.py\n\u2502   \u2514\u2500\u2500 templates/\n\u2502       \u251c\u2500\u2500 email_confirmation_de.html\n\u2502       \u2514\u2500\u2500 email_confirmation_en.html\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 test_upload.py\n\u2502   \u2514\u2500\u2500 test_nextcloud.py\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 .env.example\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 docker-compose.yml\n</code></pre>"},{"location":"backend/setup/#installation","title":"Installation","text":""},{"location":"backend/setup/#1-python-environment","title":"1. Python Environment","text":"<pre><code># Python Virtual Environment erstellen\npython3 -m venv venv\n\n# Aktivieren\nsource venv/bin/activate  # Linux/Mac\n# oder\nvenv\\Scripts\\activate     # Windows\n\n# Dependencies installieren\npip install -r requirements.txt\n</code></pre>"},{"location":"backend/setup/#2-requirementstxt","title":"2. Requirements.txt","text":"<pre><code># Core\nfastapi==0.109.0\nuvicorn[standard]==0.27.0\npython-multipart==0.0.6\npydantic==2.5.0\npydantic-settings==2.1.0\n\n# WebDAV Client\nwebdavclient3==3.14.6\n\n# E-Mail\njinja2==3.1.2\naiosmtplib==3.0.1\n\n# Optional: Database\nsqlalchemy==2.0.25\nalembic==1.13.1\n\n# Optional: Authentication\npython-jose[cryptography]==3.3.0\npasslib[bcrypt]==1.7.4\n\n# Development\npytest==7.4.4\npytest-asyncio==0.23.3\nhttpx==0.26.0\npython-dotenv==1.0.0\n</code></pre>"},{"location":"backend/setup/#konfiguration","title":"Konfiguration","text":""},{"location":"backend/setup/#env-datei","title":".env Datei","text":"<pre><code># API Configuration\nAPI_HOST=0.0.0.0\nAPI_PORT=8000\nAPI_DEBUG=False\nCORS_ORIGINS=http://localhost:3000,https://your-frontend-domain.com\n\n# Nextcloud Configuration\nNEXTCLOUD_URL=https://nextcloud.example.com/remote.php/webdav/\nNEXTCLOUD_USERNAME=your_username\nNEXTCLOUD_PASSWORD=your_password\nNEXTCLOUD_BASE_PATH=/Datenschutzportal\n\n# SMTP Configuration\nSMTP_HOST=smtp.uni-frankfurt.de\nSMTP_PORT=587\nSMTP_USERNAME=your_email@uni-frankfurt.de\nSMTP_PASSWORD=your_password\nSMTP_FROM_EMAIL=datenschutz@uni-frankfurt.de\nSMTP_FROM_NAME=Datenschutzportal\n\n# Notification E-Mails\nNOTIFICATION_EMAILS=team1@uni-frankfurt.de,team2@uni-frankfurt.de\n\n# Optional: Database\nDATABASE_URL=sqlite:///./datenschutzportal.db\n# oder PostgreSQL\n# DATABASE_URL=postgresql://user:password@localhost/datenschutzportal\n\n# Security\nSECRET_KEY=your-secret-key-here-change-in-production\nALGORITHM=HS256\nACCESS_TOKEN_EXPIRE_MINUTES=30\n\n# File Upload Limits\nMAX_FILE_SIZE=52428800  # 50 MB in Bytes\nALLOWED_FILE_TYPES=.pdf,.doc,.docx,.zip,.txt\n</code></pre>"},{"location":"backend/setup/#configpy","title":"config.py","text":"<pre><code>from pydantic_settings import BaseSettings\nfrom typing import List\n\nclass Settings(BaseSettings):\n    # API\n    api_host: str = \"0.0.0.0\"\n    api_port: int = 8000\n    api_debug: bool = False\n    cors_origins: List[str] = [\"http://localhost:3000\"]\n\n    # Nextcloud\n    nextcloud_url: str\n    nextcloud_username: str\n    nextcloud_password: str\n    nextcloud_base_path: str = \"/Datenschutzportal\"\n\n    # SMTP\n    smtp_host: str\n    smtp_port: int = 587\n    smtp_username: str\n    smtp_password: str\n    smtp_from_email: str\n    smtp_from_name: str = \"Datenschutzportal\"\n\n    # Notifications\n    notification_emails: List[str]\n\n    # Security\n    secret_key: str\n    algorithm: str = \"HS256\"\n\n    # File Upload\n    max_file_size: int = 52428800  # 50 MB\n    allowed_file_types: List[str] = [\".pdf\", \".doc\", \".docx\", \".zip\"]\n\n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n</code></pre>"},{"location":"backend/setup/#api-implementation","title":"API Implementation","text":""},{"location":"backend/setup/#mainpy","title":"main.py","text":"<pre><code>from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom app.config import settings\nfrom app.routes import upload, projects, health\n\napp = FastAPI(\n    title=\"Datenschutzportal API\",\n    description=\"API f\u00fcr Datenschutz-Dokument Upload\",\n    version=\"1.0.0\"\n)\n\n# CORS Middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.cors_origins,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Routes\napp.include_router(upload.router, prefix=\"/api\", tags=[\"upload\"])\napp.include_router(projects.router, prefix=\"/api\", tags=[\"projects\"])\napp.include_router(health.router, prefix=\"/api\", tags=[\"health\"])\n\n@app.get(\"/\")\nasync def root():\n    return {\"message\": \"Datenschutzportal API\", \"version\": \"1.0.0\"}\n</code></pre>"},{"location":"backend/setup/#modelsuploadpy","title":"models/upload.py","text":"<pre><code>from pydantic import BaseModel, EmailStr, Field\nfrom typing import List, Optional\nfrom datetime import datetime\n\nclass FileUpload(BaseModel):\n    filename: str\n    category: str\n    size: int\n    content_type: str\n\nclass ProjectSubmission(BaseModel):\n    email: EmailStr\n    uploader_name: Optional[str] = None\n    project_title: str = Field(..., min_length=3)\n    institution: str = Field(..., pattern=\"^(university|clinic)$\")\n    is_prospective_study: bool = False\n    files: List[FileUpload]\n\n    class Config:\n        json_schema_extra = {\n            \"example\": {\n                \"email\": \"researcher@uni-frankfurt.de\",\n                \"uploader_name\": \"Dr. Max Mustermann\",\n                \"project_title\": \"Studie zur Datenschutz-Compliance\",\n                \"institution\": \"university\",\n                \"is_prospective_study\": True,\n                \"files\": [\n                    {\n                        \"filename\": \"datenschutzkonzept.pdf\",\n                        \"category\": \"datenschutzkonzept\",\n                        \"size\": 1024000,\n                        \"content_type\": \"application/pdf\"\n                    }\n                ]\n            }\n        }\n\nclass UploadResponse(BaseModel):\n    success: bool\n    project_id: str\n    timestamp: datetime\n    files_uploaded: int\n    message: str\n</code></pre>"},{"location":"backend/setup/#routesuploadpy","title":"routes/upload.py","text":"<pre><code>from fastapi import APIRouter, UploadFile, File, Form, HTTPException\nfrom typing import List\nfrom app.services.nextcloud import NextcloudService\nfrom app.services.email_service import EmailService\nfrom app.models.upload import UploadResponse\nfrom app.config import settings\nimport uuid\nfrom datetime import datetime\n\nrouter = APIRouter()\nnextcloud = NextcloudService()\nemail_service = EmailService()\n\n@router.post(\"/upload\", response_model=UploadResponse)\nasync def upload_documents(\n    email: str = Form(...),\n    uploader_name: str = Form(None),\n    project_title: str = Form(...),\n    institution: str = Form(...),\n    is_prospective_study: bool = Form(False),\n    files: List[UploadFile] = File(...)\n):\n    \"\"\"\n    Upload Datenschutz-Dokumente zur Nextcloud\n    \"\"\"\n    try:\n        # Generate unique Project ID\n        project_id = f\"PRJ-{datetime.now().year}-{str(uuid.uuid4())[:8].upper()}\"\n\n        # Validate files\n        for file in files:\n            if file.size &gt; settings.max_file_size:\n                raise HTTPException(\n                    status_code=413,\n                    detail=f\"File {file.filename} exceeds maximum size of 50 MB\"\n                )\n\n            file_ext = os.path.splitext(file.filename)[1].lower()\n            if file_ext not in settings.allowed_file_types:\n                raise HTTPException(\n                    status_code=400,\n                    detail=f\"File type {file_ext} not allowed\"\n                )\n\n        # Create project folder structure\n        project_path = f\"{settings.nextcloud_base_path}/{institution}/{project_id}\"\n        nextcloud.create_folder(project_path)\n\n        # Upload files by category\n        uploaded_files = []\n        for file in files:\n            category = file.metadata.get(\"category\", \"sonstiges\")\n            category_path = f\"{project_path}/{category}\"\n            nextcloud.create_folder(category_path)\n\n            file_path = f\"{category_path}/{file.filename}\"\n            await nextcloud.upload_file(file, file_path)\n\n            uploaded_files.append({\n                \"filename\": file.filename,\n                \"category\": category,\n                \"path\": file_path\n            })\n\n        # Create metadata file\n        metadata = {\n            \"project_id\": project_id,\n            \"email\": email,\n            \"uploader_name\": uploader_name,\n            \"project_title\": project_title,\n            \"institution\": institution,\n            \"is_prospective_study\": is_prospective_study,\n            \"upload_timestamp\": datetime.now().isoformat(),\n            \"files\": uploaded_files\n        }\n\n        await nextcloud.upload_metadata(metadata, f\"{project_path}/metadata.json\")\n\n        # Send confirmation email to user\n        await email_service.send_confirmation_email(\n            to_email=email,\n            project_id=project_id,\n            project_title=project_title,\n            uploader_name=uploader_name,\n            files=uploaded_files\n        )\n\n        # Send notification to team\n        await email_service.send_team_notification(\n            project_id=project_id,\n            project_title=project_title,\n            uploader_email=email,\n            institution=institution,\n            files_count=len(files)\n        )\n\n        return UploadResponse(\n            success=True,\n            project_id=project_id,\n            timestamp=datetime.now(),\n            files_uploaded=len(files),\n            message=\"Documents uploaded successfully\"\n        )\n\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=str(e))\n\n@router.get(\"/upload/status/{project_id}\")\nasync def get_upload_status(project_id: str):\n    \"\"\"\n    Get upload status for a project\n    \"\"\"\n    try:\n        metadata = await nextcloud.get_metadata(project_id)\n        return metadata\n    except Exception as e:\n        raise HTTPException(status_code=404, detail=\"Project not found\")\n</code></pre>"},{"location":"backend/setup/#servicesnextcloudpy","title":"services/nextcloud.py","text":"<pre><code>from webdav3.client import Client\nfrom app.config import settings\nimport json\nfrom typing import Dict, Any\nfrom fastapi import UploadFile\nimport tempfile\nimport os\n\nclass NextcloudService:\n    def __init__(self):\n        self.client = Client({\n            'webdav_hostname': settings.nextcloud_url,\n            'webdav_login': settings.nextcloud_username,\n            'webdav_password': settings.nextcloud_password,\n            'webdav_timeout': 30\n        })\n\n    def create_folder(self, path: str) -&gt; bool:\n        \"\"\"\n        Create a folder in Nextcloud\n        \"\"\"\n        try:\n            if not self.client.check(path):\n                self.client.mkdir(path)\n            return True\n        except Exception as e:\n            print(f\"Error creating folder {path}: {e}\")\n            raise\n\n    async def upload_file(self, file: UploadFile, remote_path: str) -&gt; bool:\n        \"\"\"\n        Upload a file to Nextcloud\n        \"\"\"\n        try:\n            # Save to temporary file\n            with tempfile.NamedTemporaryFile(delete=False) as tmp_file:\n                content = await file.read()\n                tmp_file.write(content)\n                tmp_path = tmp_file.name\n\n            # Upload to Nextcloud\n            self.client.upload_sync(remote_path=remote_path, local_path=tmp_path)\n\n            # Clean up\n            os.unlink(tmp_path)\n\n            return True\n        except Exception as e:\n            print(f\"Error uploading file {file.filename}: {e}\")\n            raise\n\n    async def upload_metadata(self, metadata: Dict[Any, Any], remote_path: str) -&gt; bool:\n        \"\"\"\n        Upload metadata JSON to Nextcloud\n        \"\"\"\n        try:\n            with tempfile.NamedTemporaryFile(mode='w', delete=False, suffix='.json') as tmp_file:\n                json.dump(metadata, tmp_file, indent=2)\n                tmp_path = tmp_file.name\n\n            self.client.upload_sync(remote_path=remote_path, local_path=tmp_path)\n            os.unlink(tmp_path)\n\n            return True\n        except Exception as e:\n            print(f\"Error uploading metadata: {e}\")\n            raise\n\n    async def get_metadata(self, project_id: str) -&gt; Dict[Any, Any]:\n        \"\"\"\n        Retrieve project metadata from Nextcloud\n        \"\"\"\n        try:\n            # Search in both university and clinic folders\n            for institution in ['university', 'clinic']:\n                path = f\"{settings.nextcloud_base_path}/{institution}/{project_id}/metadata.json\"\n                if self.client.check(path):\n                    with tempfile.NamedTemporaryFile(delete=False) as tmp_file:\n                        tmp_path = tmp_file.name\n\n                    self.client.download_sync(remote_path=path, local_path=tmp_path)\n\n                    with open(tmp_path, 'r') as f:\n                        metadata = json.load(f)\n\n                    os.unlink(tmp_path)\n                    return metadata\n\n            raise FileNotFoundError(f\"Project {project_id} not found\")\n        except Exception as e:\n            print(f\"Error retrieving metadata: {e}\")\n            raise\n\n    def list_files(self, path: str) -&gt; list:\n        \"\"\"\n        List files in a Nextcloud directory\n        \"\"\"\n        try:\n            return self.client.list(path)\n        except Exception as e:\n            print(f\"Error listing files in {path}: {e}\")\n            raise\n</code></pre>"},{"location":"backend/setup/#servicesemail_servicepy","title":"services/email_service.py","text":"<pre><code>import aiosmtplib\nfrom email.mime.text import MIMEText\nfrom email.mime.multipart import MIMEMultipart\nfrom jinja2 import Environment, FileSystemLoader\nfrom app.config import settings\nfrom typing import List, Dict\n\nclass EmailService:\n    def __init__(self):\n        self.template_env = Environment(\n            loader=FileSystemLoader('app/templates')\n        )\n\n    async def send_email(\n        self,\n        to_email: str,\n        subject: str,\n        html_content: str\n    ) -&gt; bool:\n        \"\"\"\n        Send an email via SMTP\n        \"\"\"\n        try:\n            message = MIMEMultipart('alternative')\n            message['From'] = f\"{settings.smtp_from_name} &lt;{settings.smtp_from_email}&gt;\"\n            message['To'] = to_email\n            message['Subject'] = subject\n\n            html_part = MIMEText(html_content, 'html')\n            message.attach(html_part)\n\n            await aiosmtplib.send(\n                message,\n                hostname=settings.smtp_host,\n                port=settings.smtp_port,\n                username=settings.smtp_username,\n                password=settings.smtp_password,\n                use_tls=True\n            )\n\n            return True\n        except Exception as e:\n            print(f\"Error sending email: {e}\")\n            raise\n\n    async def send_confirmation_email(\n        self,\n        to_email: str,\n        project_id: str,\n        project_title: str,\n        uploader_name: str,\n        files: List[Dict]\n    ) -&gt; bool:\n        \"\"\"\n        Send confirmation email to user\n        \"\"\"\n        template = self.template_env.get_template('email_confirmation_de.html')\n\n        html_content = template.render(\n            project_id=project_id,\n            project_title=project_title,\n            uploader_name=uploader_name or \"N/A\",\n            files=files,\n            files_count=len(files)\n        )\n\n        subject = f\"Best\u00e4tigung Upload: {project_title} (ID: {project_id})\"\n\n        return await self.send_email(to_email, subject, html_content)\n\n    async def send_team_notification(\n        self,\n        project_id: str,\n        project_title: str,\n        uploader_email: str,\n        institution: str,\n        files_count: int\n    ) -&gt; bool:\n        \"\"\"\n        Send notification to data protection team\n        \"\"\"\n        subject = f\"Neuer Upload: {project_title} ({institution})\"\n\n        html_content = f\"\"\"\n        &lt;html&gt;\n        &lt;body&gt;\n            &lt;h2&gt;Neuer Dokument-Upload&lt;/h2&gt;\n            &lt;p&gt;&lt;strong&gt;Projekt-ID:&lt;/strong&gt; {project_id}&lt;/p&gt;\n            &lt;p&gt;&lt;strong&gt;Projekttitel:&lt;/strong&gt; {project_title}&lt;/p&gt;\n            &lt;p&gt;&lt;strong&gt;Institution:&lt;/strong&gt; {institution}&lt;/p&gt;\n            &lt;p&gt;&lt;strong&gt;Uploader E-Mail:&lt;/strong&gt; {uploader_email}&lt;/p&gt;\n            &lt;p&gt;&lt;strong&gt;Anzahl Dateien:&lt;/strong&gt; {files_count}&lt;/p&gt;\n            &lt;p&gt;&lt;a href=\"{settings.nextcloud_url}\"&gt;Zur Nextcloud&lt;/a&gt;&lt;/p&gt;\n        &lt;/body&gt;\n        &lt;/html&gt;\n        \"\"\"\n\n        # Send to all team members\n        for email in settings.notification_emails:\n            await self.send_email(email, subject, html_content)\n\n        return True\n</code></pre>"},{"location":"backend/setup/#testing","title":"Testing","text":""},{"location":"backend/setup/#test_uploadpy","title":"test_upload.py","text":"<pre><code>import pytest\nfrom httpx import AsyncClient\nfrom app.main import app\n\n@pytest.mark.asyncio\nasync def test_upload_documents():\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        files = [\n            (\"files\", (\"test.pdf\", b\"fake pdf content\", \"application/pdf\"))\n        ]\n\n        data = {\n            \"email\": \"test@uni-frankfurt.de\",\n            \"project_title\": \"Test Project\",\n            \"institution\": \"university\",\n            \"is_prospective_study\": False\n        }\n\n        response = await client.post(\"/api/upload\", data=data, files=files)\n\n        assert response.status_code == 200\n        assert response.json()[\"success\"] == True\n        assert \"project_id\" in response.json()\n</code></pre>"},{"location":"backend/setup/#deployment","title":"Deployment","text":"<p>Siehe Deployment Guide f\u00fcr detaillierte Deployment-Anleitung.</p>"},{"location":"backend/setup/#nachste-schritte","title":"N\u00e4chste Schritte","text":"<ol> <li>\u2705 Python Environment aufsetzen</li> <li>\u2705 Requirements installieren</li> <li>\u2b1c Nextcloud Zugangsdaten erhalten</li> <li>\u2b1c SMTP Server konfigurieren</li> <li>\u2b1c API Endpunkte implementieren</li> <li>\u2b1c E-Mail Templates erstellen</li> <li>\u2b1c Integration Tests schreiben</li> <li>\u2b1c Frontend mit Backend verbinden</li> <li>\u2b1c Docker Container erstellen</li> <li>\u2b1c Produktiv deployment</li> </ol>"},{"location":"deployment/","title":"Deployment Guide","text":""},{"location":"deployment/#ubersicht","title":"\u00dcbersicht","text":"<p>Dieser Guide beschreibt das Deployment des Datenschutzportals f\u00fcr Produktionsumgebungen.</p>"},{"location":"deployment/#deployment-optionen","title":"Deployment-Optionen","text":"<ol> <li>Docker Compose (Empfohlen f\u00fcr kleinere Deployments)</li> <li>Kubernetes (F\u00fcr skalierbare Produktionsumgebungen)</li> <li>Manuelle Installation (F\u00fcr spezielle Anforderungen)</li> </ol>"},{"location":"deployment/#1-docker-compose-deployment","title":"1. Docker Compose Deployment","text":""},{"location":"deployment/#voraussetzungen","title":"Voraussetzungen","text":"<ul> <li>Docker 20.10+</li> <li>Docker Compose 2.0+</li> <li>Domain mit SSL-Zertifikat</li> <li>Nextcloud-Zugangsdaten</li> <li>SMTP-Server-Zugang</li> </ul>"},{"location":"deployment/#projektstruktur","title":"Projektstruktur","text":"<pre><code>datenschutzportal/\n\u251c\u2500\u2500 frontend/\n\u2502   \u251c\u2500\u2500 (React App Files)\n\u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u2514\u2500\u2500 nginx.conf\n\u251c\u2500\u2500 backend/\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 requirements.txt\n\u2502   \u2514\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .env.production\n\u2514\u2500\u2500 nginx/\n    \u2514\u2500\u2500 nginx.conf (Reverse Proxy)\n</code></pre>"},{"location":"deployment/#frontend-dockerfile","title":"Frontend Dockerfile","text":"<pre><code># frontend/Dockerfile\nFROM node:20-alpine AS builder\n\nWORKDIR /app\n\n# Copy package files\nCOPY package*.json ./\nRUN npm ci\n\n# Copy source\nCOPY . .\n\n# Build\nRUN npm run build\n\n# Production image\nFROM nginx:alpine\n\n# Copy built assets\nCOPY --from=builder /app/dist /usr/share/nginx/html\n\n# Copy nginx config\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\n\nEXPOSE 80\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre>"},{"location":"deployment/#frontend-nginxconf","title":"Frontend nginx.conf","text":"<pre><code># frontend/nginx.conf\nserver {\n    listen 80;\n    server_name _;\n    root /usr/share/nginx/html;\n    index index.html;\n\n    # Compression\n    gzip on;\n    gzip_vary on;\n    gzip_types text/plain text/css text/xml text/javascript \n               application/x-javascript application/xml+rss \n               application/javascript application/json;\n\n    # Security headers\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header Referrer-Policy \"no-referrer-when-downgrade\" always;\n\n    # SPA routing\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # API proxy\n    location /api {\n        proxy_pass http://backend:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # Timeouts for file upload\n        proxy_read_timeout 300;\n        proxy_connect_timeout 300;\n        proxy_send_timeout 300;\n    }\n\n    # Cache static assets\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n    }\n}\n</code></pre>"},{"location":"deployment/#backend-dockerfile","title":"Backend Dockerfile","text":"<pre><code># backend/Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    gcc \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n# Copy requirements\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application\nCOPY . .\n\n# Create non-root user\nRUN useradd -m -u 1000 appuser &amp;&amp; chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\\n    CMD python -c \"import requests; requests.get('http://localhost:8000/api/health')\"\n\n# Run application\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"deployment/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  # Frontend\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n    container_name: datenschutzportal-frontend\n    restart: unless-stopped\n    ports:\n      - \"3000:80\"\n    depends_on:\n      - backend\n    networks:\n      - datenschutzportal-network\n\n  # Backend\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    container_name: datenschutzportal-backend\n    restart: unless-stopped\n    ports:\n      - \"8000:8000\"\n    env_file:\n      - .env.production\n    volumes:\n      - ./backend/logs:/app/logs\n    networks:\n      - datenschutzportal-network\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/api/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 40s\n\n  # Nginx Reverse Proxy (optional, f\u00fcr SSL)\n  nginx:\n    image: nginx:alpine\n    container_name: datenschutzportal-nginx\n    restart: unless-stopped\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./nginx/ssl:/etc/nginx/ssl:ro\n      - ./nginx/logs:/var/log/nginx\n    depends_on:\n      - frontend\n      - backend\n    networks:\n      - datenschutzportal-network\n\nnetworks:\n  datenschutzportal-network:\n    driver: bridge\n</code></pre>"},{"location":"deployment/#envproduction","title":".env.production","text":"<pre><code># API Configuration\nAPI_HOST=0.0.0.0\nAPI_PORT=8000\nAPI_DEBUG=False\nCORS_ORIGINS=https://datenschutzportal.uni-frankfurt.de\n\n# Nextcloud Configuration\nNEXTCLOUD_URL=https://nextcloud.example.com/remote.php/webdav/\nNEXTCLOUD_USERNAME=production_user\nNEXTCLOUD_PASSWORD=secure_password_here\nNEXTCLOUD_BASE_PATH=/Datenschutzportal\n\n# SMTP Configuration\nSMTP_HOST=smtp.uni-frankfurt.de\nSMTP_PORT=587\nSMTP_USERNAME=datenschutz@uni-frankfurt.de\nSMTP_PASSWORD=secure_smtp_password\nSMTP_FROM_EMAIL=datenschutz@uni-frankfurt.de\nSMTP_FROM_NAME=Datenschutzportal\n\n# Notification E-Mails (comma-separated)\nNOTIFICATION_EMAILS=team1@uni-frankfurt.de,team2@uni-frankfurt.de\n\n# Security\nSECRET_KEY=generate-secure-random-key-here-min-32-chars\nALGORITHM=HS256\n\n# File Upload Limits\nMAX_FILE_SIZE=52428800\nALLOWED_FILE_TYPES=.pdf,.doc,.docx,.zip,.txt\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/app/logs/datenschutzportal.log\n</code></pre>"},{"location":"deployment/#deployment-steps","title":"Deployment Steps","text":"<pre><code># 1. Clone repository\ngit clone https://github.com/uni-frankfurt/datenschutzportal.git\ncd datenschutzportal\n\n# 2. Konfiguration anpassen\ncp .env.example .env.production\nnano .env.production  # Zugangsdaten eintragen\n\n# 3. SSL-Zertifikate hinzuf\u00fcgen (Let's Encrypt)\nsudo certbot certonly --standalone -d datenschutzportal.uni-frankfurt.de\ncp /etc/letsencrypt/live/datenschutzportal.uni-frankfurt.de/fullchain.pem nginx/ssl/\ncp /etc/letsencrypt/live/datenschutzportal.uni-frankfurt.de/privkey.pem nginx/ssl/\n\n# 4. Build und Start\ndocker-compose up -d --build\n\n# 5. Logs \u00fcberpr\u00fcfen\ndocker-compose logs -f\n\n# 6. Health Check\ncurl https://datenschutzportal.uni-frankfurt.de/api/health\n</code></pre>"},{"location":"deployment/#reverse-proxy-nginxconf-mit-ssl","title":"Reverse Proxy nginx.conf (mit SSL)","text":"<pre><code># nginx/nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    # Rate Limiting\n    limit_req_zone $binary_remote_addr zone=upload_limit:10m rate=10r/m;\n    limit_req_zone $binary_remote_addr zone=api_limit:10m rate=100r/m;\n\n    # Upstream Backend\n    upstream backend {\n        server backend:8000;\n    }\n\n    # Upstream Frontend\n    upstream frontend {\n        server frontend:80;\n    }\n\n    # HTTP -&gt; HTTPS Redirect\n    server {\n        listen 80;\n        server_name datenschutzportal.uni-frankfurt.de;\n        return 301 https://$server_name$request_uri;\n    }\n\n    # HTTPS Server\n    server {\n        listen 443 ssl http2;\n        server_name datenschutzportal.uni-frankfurt.de;\n\n        # SSL Configuration\n        ssl_certificate /etc/nginx/ssl/fullchain.pem;\n        ssl_certificate_key /etc/nginx/ssl/privkey.pem;\n        ssl_protocols TLSv1.2 TLSv1.3;\n        ssl_ciphers HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers on;\n\n        # Security Headers\n        add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n        add_header X-Frame-Options \"SAMEORIGIN\" always;\n        add_header X-Content-Type-Options \"nosniff\" always;\n        add_header X-XSS-Protection \"1; mode=block\" always;\n        add_header Content-Security-Policy \"default-src 'self' 'unsafe-inline' 'unsafe-eval'; img-src 'self' data: https:;\" always;\n\n        # Max upload size\n        client_max_body_size 100M;\n\n        # API Routes\n        location /api {\n            limit_req zone=api_limit burst=20 nodelay;\n            limit_req zone=upload_limit burst=5 nodelay;\n\n            proxy_pass http://backend;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n\n            # Timeouts for file upload\n            proxy_read_timeout 600;\n            proxy_connect_timeout 600;\n            proxy_send_timeout 600;\n        }\n\n        # Frontend\n        location / {\n            proxy_pass http://frontend;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Health Check\n        location /health {\n            access_log off;\n            return 200 \"healthy\\n\";\n            add_header Content-Type text/plain;\n        }\n    }\n}\n</code></pre>"},{"location":"deployment/#2-kubernetes-deployment","title":"2. Kubernetes Deployment","text":""},{"location":"deployment/#kubernetes-manifests","title":"Kubernetes Manifests","text":""},{"location":"deployment/#deploymentyaml","title":"deployment.yaml","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: datenschutzportal-backend\n  namespace: datenschutzportal\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: datenschutzportal-backend\n  template:\n    metadata:\n      labels:\n        app: datenschutzportal-backend\n    spec:\n      containers:\n      - name: backend\n        image: registry.uni-frankfurt.de/datenschutzportal-backend:latest\n        ports:\n        - containerPort: 8000\n        env:\n        - name: API_HOST\n          value: \"0.0.0.0\"\n        - name: API_PORT\n          value: \"8000\"\n        envFrom:\n        - secretRef:\n            name: datenschutzportal-secrets\n        resources:\n          requests:\n            memory: \"256Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"512Mi\"\n            cpu: \"500m\"\n        livenessProbe:\n          httpGet:\n            path: /api/health\n            port: 8000\n          initialDelaySeconds: 30\n          periodSeconds: 10\n        readinessProbe:\n          httpGet:\n            path: /api/health\n            port: 8000\n          initialDelaySeconds: 5\n          periodSeconds: 5\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: datenschutzportal-frontend\n  namespace: datenschutzportal\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: datenschutzportal-frontend\n  template:\n    metadata:\n      labels:\n        app: datenschutzportal-frontend\n    spec:\n      containers:\n      - name: frontend\n        image: registry.uni-frankfurt.de/datenschutzportal-frontend:latest\n        ports:\n        - containerPort: 80\n        resources:\n          requests:\n            memory: \"128Mi\"\n            cpu: \"100m\"\n          limits:\n            memory: \"256Mi\"\n            cpu: \"200m\"\n</code></pre>"},{"location":"deployment/#serviceyaml","title":"service.yaml","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: datenschutzportal-backend-service\n  namespace: datenschutzportal\nspec:\n  selector:\n    app: datenschutzportal-backend\n  ports:\n  - protocol: TCP\n    port: 8000\n    targetPort: 8000\n  type: ClusterIP\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: datenschutzportal-frontend-service\n  namespace: datenschutzportal\nspec:\n  selector:\n    app: datenschutzportal-frontend\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 80\n  type: ClusterIP\n</code></pre>"},{"location":"deployment/#ingressyaml","title":"ingress.yaml","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: datenschutzportal-ingress\n  namespace: datenschutzportal\n  annotations:\n    cert-manager.io/cluster-issuer: \"letsencrypt-prod\"\n    nginx.ingress.kubernetes.io/proxy-body-size: \"100m\"\n    nginx.ingress.kubernetes.io/proxy-read-timeout: \"600\"\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - datenschutzportal.uni-frankfurt.de\n    secretName: datenschutzportal-tls\n  rules:\n  - host: datenschutzportal.uni-frankfurt.de\n    http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: datenschutzportal-backend-service\n            port:\n              number: 8000\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: datenschutzportal-frontend-service\n            port:\n              number: 80\n</code></pre>"},{"location":"deployment/#deployment","title":"Deployment","text":"<pre><code># 1. Namespace erstellen\nkubectl create namespace datenschutzportal\n\n# 2. Secrets erstellen\nkubectl create secret generic datenschutzportal-secrets \\\n  --from-env-file=.env.production \\\n  -n datenschutzportal\n\n# 3. Deployments anwenden\nkubectl apply -f deployment.yaml\nkubectl apply -f service.yaml\nkubectl apply -f ingress.yaml\n\n# 4. Status pr\u00fcfen\nkubectl get pods -n datenschutzportal\nkubectl get services -n datenschutzportal\nkubectl get ingress -n datenschutzportal\n\n# 5. Logs anzeigen\nkubectl logs -f -l app=datenschutzportal-backend -n datenschutzportal\n</code></pre>"},{"location":"deployment/#3-monitoring-logging","title":"3. Monitoring &amp; Logging","text":""},{"location":"deployment/#prometheus-metrics","title":"Prometheus Metrics","text":"<pre><code># backend/app/monitoring.py\nfrom prometheus_client import Counter, Histogram, Gauge\n\n# Metrics\nupload_counter = Counter('uploads_total', 'Total number of uploads')\nupload_duration = Histogram('upload_duration_seconds', 'Upload duration')\nactive_uploads = Gauge('active_uploads', 'Number of active uploads')\n</code></pre>"},{"location":"deployment/#grafana-dashboard","title":"Grafana Dashboard","text":"<pre><code>{\n  \"dashboard\": {\n    \"title\": \"Datenschutzportal Monitoring\",\n    \"panels\": [\n      {\n        \"title\": \"Upload Rate\",\n        \"targets\": [\n          {\n            \"expr\": \"rate(uploads_total[5m])\"\n          }\n        ]\n      },\n      {\n        \"title\": \"Active Uploads\",\n        \"targets\": [\n          {\n            \"expr\": \"active_uploads\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"deployment/#logging-mit-elk-stack","title":"Logging mit ELK Stack","text":"<pre><code># filebeat.yml\nfilebeat.inputs:\n- type: log\n  enabled: true\n  paths:\n    - /app/logs/*.log\n  json.keys_under_root: true\n\noutput.elasticsearch:\n  hosts: [\"elasticsearch:9200\"]\n  index: \"datenschutzportal-%{+yyyy.MM.dd}\"\n</code></pre>"},{"location":"deployment/#4-backup-recovery","title":"4. Backup &amp; Recovery","text":""},{"location":"deployment/#nextcloud-backup","title":"Nextcloud Backup","text":"<pre><code>#!/bin/bash\n# backup_nextcloud.sh\n\nBACKUP_DIR=\"/backup/nextcloud\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# Backup via WebDAV\nrclone sync nextcloud:/Datenschutzportal $BACKUP_DIR/datenschutzportal-$DATE\n\n# Keep last 30 days\nfind $BACKUP_DIR -type d -mtime +30 -exec rm -rf {} \\;\n</code></pre>"},{"location":"deployment/#database-backup-falls-verwendet","title":"Database Backup (falls verwendet)","text":"<pre><code>#!/bin/bash\n# backup_database.sh\n\nBACKUP_DIR=\"/backup/database\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# PostgreSQL Backup\npg_dump -h localhost -U datenschutzportal datenschutzportal &gt; $BACKUP_DIR/db-$DATE.sql\n\n# Compress\ngzip $BACKUP_DIR/db-$DATE.sql\n\n# Keep last 30 days\nfind $BACKUP_DIR -type f -mtime +30 -delete\n</code></pre>"},{"location":"deployment/#5-security-checklist","title":"5. Security Checklist","text":"<ul> <li>[ ] SSL/TLS Zertifikat konfiguriert (Let's Encrypt)</li> <li>[ ] Firewall konfiguriert (nur Ports 80, 443 offen)</li> <li>[ ] Secrets in Environment Variables (nicht im Code)</li> <li>[ ] Rate Limiting aktiviert</li> <li>[ ] CORS richtig konfiguriert</li> <li>[ ] Security Headers gesetzt</li> <li>[ ] File Upload Limits gesetzt</li> <li>[ ] Input Validation aktiviert</li> <li>[ ] Logging ohne sensitive Daten</li> <li>[ ] Regelm\u00e4\u00dfige Security Updates</li> <li>[ ] Backup-Strategie implementiert</li> <li>[ ] Monitoring &amp; Alerting eingerichtet</li> </ul>"},{"location":"deployment/#6-performance-tuning","title":"6. Performance Tuning","text":""},{"location":"deployment/#nginx","title":"Nginx","text":"<pre><code># Worker processes\nworker_processes auto;\nworker_rlimit_nofile 65535;\n\n# Connection settings\nevents {\n    worker_connections 4096;\n    use epoll;\n    multi_accept on;\n}\n</code></pre>"},{"location":"deployment/#fastapi","title":"FastAPI","text":"<pre><code># Uvicorn mit Gunicorn\ngunicorn app.main:app \\\n    --workers 4 \\\n    --worker-class uvicorn.workers.UvicornWorker \\\n    --bind 0.0.0.0:8000 \\\n    --timeout 300 \\\n    --keepalive 5\n</code></pre>"},{"location":"deployment/#7-troubleshooting","title":"7. Troubleshooting","text":""},{"location":"deployment/#common-issues","title":"Common Issues","text":"<p>Issue: Upload schl\u00e4gt fehl Solution: Pr\u00fcfe <code>client_max_body_size</code> in Nginx und <code>MAX_FILE_SIZE</code> in Backend</p> <p>Issue: Langsame Uploads Solution: Erh\u00f6he Timeouts in Nginx und FastAPI</p> <p>Issue: Nextcloud Connection Timeout Solution: Pr\u00fcfe Firewall-Regeln und WebDAV-Zugangsdaten</p>"},{"location":"deployment/#logs","title":"Logs","text":"<pre><code># Docker Logs\ndocker-compose logs -f backend\ndocker-compose logs -f frontend\n\n# Kubernetes Logs\nkubectl logs -f deployment/datenschutzportal-backend -n datenschutzportal\n\n# Nginx Logs\ntail -f /var/log/nginx/error.log\ntail -f /var/log/nginx/access.log\n</code></pre>"},{"location":"deployment/#8-cicd-pipeline","title":"8. CI/CD Pipeline","text":""},{"location":"deployment/#github-actions","title":"GitHub Actions","text":"<pre><code># .github/workflows/deploy.yml\nname: Deploy to Production\n\non:\n  push:\n    branches: [ main ]\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Build Docker Images\n        run: |\n          docker build -t datenschutzportal-frontend:${{ github.sha }} ./frontend\n          docker build -t datenschutzportal-backend:${{ github.sha }} ./backend\n\n      - name: Push to Registry\n        run: |\n          docker tag datenschutzportal-frontend:${{ github.sha }} registry.uni-frankfurt.de/datenschutzportal-frontend:latest\n          docker push registry.uni-frankfurt.de/datenschutzportal-frontend:latest\n\n      - name: Deploy to Server\n        run: |\n          ssh deploy@server \"cd /opt/datenschutzportal &amp;&amp; docker-compose pull &amp;&amp; docker-compose up -d\"\n</code></pre>"},{"location":"deployment/#support","title":"Support","text":"<p>DevOps Team: devops@uni-frankfurt.de Notfall-Hotline: +49 69 798 12345</p>"},{"location":"deployment/tech_stack/","title":"Tech Stack Dokumentation","text":""},{"location":"deployment/tech_stack/#frontend-technologien","title":"Frontend-Technologien","text":""},{"location":"deployment/tech_stack/#core-framework","title":"Core Framework","text":""},{"location":"deployment/tech_stack/#react-typescript","title":"React (TypeScript)","text":"<ul> <li>Version: Latest (\u00fcber Figma Make)</li> <li>Verwendung: Haupt-Framework f\u00fcr die UI</li> <li>Vorteile: </li> <li>Komponentenbasierte Architektur</li> <li>TypeScript f\u00fcr Type Safety</li> <li>Gro\u00dfe Community &amp; Ecosystem</li> </ul>"},{"location":"deployment/tech_stack/#styling","title":"Styling","text":""},{"location":"deployment/tech_stack/#tailwind-css-40","title":"Tailwind CSS 4.0","text":"<ul> <li>Verwendung: Utility-First CSS Framework</li> <li>Konfiguration: <code>/styles/globals.css</code></li> <li>Features:</li> <li>CSS Custom Properties f\u00fcr Theming</li> <li>Dark Mode Support (vorbereitet)</li> <li>Responsive Design Utilities</li> <li>Custom Variants</li> </ul> <pre><code>/* Beispiel aus globals.css */\n:root {\n  --primary: #030213;\n  --destructive: #d4183d;\n  --radius: 0.625rem;\n}\n</code></pre>"},{"location":"deployment/tech_stack/#class-variance-authority-cva","title":"Class Variance Authority (CVA)","text":"<ul> <li>Version: 0.7.1</li> <li>Verwendung: Variant-basierte Komponenten-Styles</li> <li>Beispiel:</li> </ul> <pre><code>const buttonVariants = cva(\"base-classes\", {\n  variants: {\n    variant: {\n      default: \"bg-primary text-primary-foreground\",\n      destructive: \"bg-destructive text-white\"\n    }\n  }\n})\n</code></pre>"},{"location":"deployment/tech_stack/#ui-komponenten","title":"UI-Komponenten","text":""},{"location":"deployment/tech_stack/#radix-ui","title":"Radix UI","text":"<ul> <li>Version: 1.1.2+ (verschiedene Pakete)</li> <li>Verwendung: Headless UI Primitives</li> <li>Komponenten in Verwendung:</li> <li><code>@radix-ui/react-slot</code> - Composition Pattern</li> <li>Dialog, Popover, Select (\u00fcber shadcn/ui)</li> <li>Accordion, Checkbox, Radio Group</li> <li>Und weitere 20+ Komponenten</li> </ul> <p>Vorteile: - Vollst\u00e4ndig barrierefrei (ARIA) - Ungestyled (flexible Anpassung) - Keyboard Navigation - Screen Reader Support</p>"},{"location":"deployment/tech_stack/#shadcnui-komponenten","title":"shadcn/ui Komponenten","text":"<p>Alle UI-Komponenten unter <code>/components/ui/</code> basieren auf shadcn/ui: - Button, Card, Input, Label - Dialog, Dropdown, Select - Progress, Tabs, Toast (Sonner) - Form, Table, und mehr</p>"},{"location":"deployment/tech_stack/#icons","title":"Icons","text":""},{"location":"deployment/tech_stack/#lucide-react","title":"Lucide React","text":"<ul> <li>Verwendung: Icon Library</li> <li>Verwendete Icons:</li> <li><code>Upload</code>, <code>Mail</code>, <code>FileText</code> - Dokument-Icons</li> <li><code>CheckCircle2</code>, <code>AlertCircle</code>, <code>Info</code> - Status-Icons</li> <li><code>Eye</code>, <code>ZoomIn</code>, <code>ZoomOut</code>, <code>Download</code> - Aktions-Icons</li> <li><code>ArrowLeft</code>, <code>X</code> - Navigation-Icons</li> </ul> <pre><code>import { Upload, CheckCircle2 } from 'lucide-react';\n\n&lt;Upload className=\"w-6 h-6 text-blue-600\" /&gt;\n</code></pre>"},{"location":"deployment/tech_stack/#state-management","title":"State Management","text":""},{"location":"deployment/tech_stack/#react-context-api","title":"React Context API","text":"<ul> <li>Verwendung: Globaler State f\u00fcr Sprache</li> <li>Implementierung: <code>/contexts/LanguageContext.tsx</code></li> </ul> <pre><code>interface LanguageContextType {\n  language: 'de' | 'en';\n  setLanguage: (lang: Language) =&gt; void;\n  t: (key: string) =&gt; string;\n}\n</code></pre> <p>Vorteile: - Keine externe Dependency - Einfache Integration - Type-Safe mit TypeScript</p>"},{"location":"deployment/tech_stack/#form-handling","title":"Form Handling","text":""},{"location":"deployment/tech_stack/#native-react-state","title":"Native React State","text":"<ul> <li>Verwendung: Lokaler State f\u00fcr Formulare</li> <li>Pattern: Controlled Components</li> </ul> <pre><code>const [email, setEmail] = useState('');\nconst [errors, setErrors] = useState&lt;string[]&gt;([]);\n</code></pre> <p>Validierung: - Client-seitige Validierung mit RegEx - Echtzeit-Feedback - Conditional Required Fields</p>"},{"location":"deployment/tech_stack/#file-handling","title":"File Handling","text":""},{"location":"deployment/tech_stack/#drag-drop","title":"Drag &amp; Drop","text":"<ul> <li>Implementierung: Native HTML5 Drag &amp; Drop API</li> <li>Features:</li> <li>Multiple File Upload</li> <li>File Type Validation</li> <li>Drag Visual Feedback</li> </ul> <pre><code>const handleDrop = (e: React.DragEvent) =&gt; {\n  e.preventDefault();\n  const files = Array.from(e.dataTransfer.files);\n  onFilesAdded(files);\n};\n</code></pre>"},{"location":"deployment/tech_stack/#pdf-preview","title":"PDF Preview","text":"<ul> <li>Implementierung: Native <code>&lt;object&gt;</code> Tag</li> <li>Features:</li> <li>Zoom-Funktion (50%-200%)</li> <li>Download-Button</li> <li>Fallback f\u00fcr nicht-PDF Dateien</li> </ul> <pre><code>&lt;object\n  data={fileUrl}\n  type=\"application/pdf\"\n  className=\"w-full h-[800px]\"\n/&gt;\n</code></pre>"},{"location":"deployment/tech_stack/#internationalisierung-i18n","title":"Internationalisierung (i18n)","text":""},{"location":"deployment/tech_stack/#custom-translation-system","title":"Custom Translation System","text":"<ul> <li>Implementierung: Context-basiert</li> <li>Sprachen: Deutsch (de), Englisch (en)</li> <li>Translations: 230+ Keys</li> </ul> <pre><code>const translations = {\n  de: {\n    'form.email': 'E-Mail-Adresse',\n    'form.title': 'Projekttitel',\n    // ... 230+ weitere\n  },\n  en: { /* ... */ }\n};\n</code></pre> <p>Verwendung: <pre><code>const { t } = useLanguage();\n&lt;label&gt;{t('form.email')}&lt;/label&gt;\n</code></pre></p>"},{"location":"deployment/tech_stack/#backend-technologien-geplant","title":"Backend-Technologien (Geplant)","text":""},{"location":"deployment/tech_stack/#python-fastapi","title":"Python FastAPI","text":"<ul> <li>Version: 0.100+</li> <li>Verwendung: REST API Backend</li> <li>Features:</li> <li>Async/Await Support</li> <li>Automatic OpenAPI Documentation</li> <li>Type Validation mit Pydantic</li> <li>High Performance</li> </ul>"},{"location":"deployment/tech_stack/#webdav-client","title":"WebDAV Client","text":"<ul> <li>Library: <code>webdavclient3</code> oder <code>easywebdav</code></li> <li>Verwendung: Nextcloud Integration</li> <li>Operationen:</li> <li>Upload Files</li> <li>Create Directories</li> <li>List Files</li> <li>Download Files</li> </ul>"},{"location":"deployment/tech_stack/#e-mail","title":"E-Mail","text":"<ul> <li>Library: <code>smtplib</code> (Python Standard Library)</li> <li>Verwendung: Benachrichtigungen</li> <li>Features:</li> <li>HTML E-Mails</li> <li>Attachments (optional)</li> <li>Template System</li> </ul>"},{"location":"deployment/tech_stack/#docker","title":"Docker","text":"<ul> <li>Base Image: <code>python:3.11-slim</code></li> <li>Services:</li> <li>Frontend (Nginx)</li> <li>Backend (FastAPI)</li> <li>(Optional) Database</li> </ul>"},{"location":"deployment/tech_stack/#build-tools","title":"Build Tools","text":""},{"location":"deployment/tech_stack/#figma-make","title":"Figma Make","text":"<ul> <li>Plattform: Figma Make Web Builder</li> <li>Features:</li> <li>Hot Module Replacement</li> <li>TypeScript Compilation</li> <li>Automatic Dependency Resolution</li> <li>Production Build</li> </ul>"},{"location":"deployment/tech_stack/#browser-support","title":"Browser Support","text":""},{"location":"deployment/tech_stack/#unterstutzte-browser","title":"Unterst\u00fctzte Browser","text":"<ul> <li>Chrome 90+</li> <li>Firefox 88+</li> <li>Safari 14+</li> <li>Edge 90+</li> </ul>"},{"location":"deployment/tech_stack/#required-browser-features","title":"Required Browser Features","text":"<ul> <li>ES6+ JavaScript</li> <li>CSS Grid &amp; Flexbox</li> <li>Drag &amp; Drop API</li> <li>File API</li> <li>Blob &amp; URL.createObjectURL</li> </ul>"},{"location":"deployment/tech_stack/#performance-optimierungen","title":"Performance Optimierungen","text":""},{"location":"deployment/tech_stack/#react","title":"React","text":"<ul> <li>Functional Components mit Hooks</li> <li>Memoization (wo n\u00f6tig)</li> <li>Lazy Loading (geplant f\u00fcr gro\u00dfe Komponenten)</li> </ul>"},{"location":"deployment/tech_stack/#css","title":"CSS","text":"<ul> <li>Tailwind JIT Compiler</li> <li>CSS Custom Properties</li> <li>Minimales Bundle durch PurgeCSS</li> </ul>"},{"location":"deployment/tech_stack/#assets","title":"Assets","text":"<ul> <li>SVG f\u00fcr Icons (Lucide)</li> <li>WebP f\u00fcr Bilder (geplant)</li> <li>Lazy Loading f\u00fcr Bilder</li> </ul>"},{"location":"deployment/tech_stack/#sicherheit","title":"Sicherheit","text":""},{"location":"deployment/tech_stack/#frontend","title":"Frontend","text":"<ul> <li>XSS Protection durch React</li> <li>CSRF Token (geplant f\u00fcr Backend)</li> <li>Content Security Policy (geplant)</li> <li>Input Sanitization</li> </ul>"},{"location":"deployment/tech_stack/#backend-geplant","title":"Backend (Geplant)","text":"<ul> <li>HTTPS nur</li> <li>Rate Limiting</li> <li>Input Validation</li> <li>Secure File Upload</li> <li>E-Mail Validation</li> </ul>"},{"location":"deployment/tech_stack/#abhangigkeiten","title":"Abh\u00e4ngigkeiten","text":""},{"location":"deployment/tech_stack/#core-dependencies","title":"Core Dependencies","text":"<pre><code>{\n  \"react\": \"latest\",\n  \"lucide-react\": \"latest\",\n  \"class-variance-authority\": \"0.7.1\",\n  \"@radix-ui/react-slot\": \"1.1.2\"\n}\n</code></pre>"},{"location":"deployment/tech_stack/#keine-externe-form-library","title":"Keine externe Form Library","text":"<p>Bewusste Entscheidung f\u00fcr native React State statt react-hook-form, da: - Einfache Form-Struktur - Weniger Dependencies - Volle Kontrolle \u00fcber Validierung - Kleineres Bundle</p>"},{"location":"deployment/tech_stack/#entwicklungstools","title":"Entwicklungstools","text":""},{"location":"deployment/tech_stack/#typescript","title":"TypeScript","text":"<ul> <li>Strict Mode</li> <li>Type Checking</li> <li>IntelliSense Support</li> </ul>"},{"location":"deployment/tech_stack/#code-style","title":"Code Style","text":"<ul> <li>Functional Components</li> <li>TypeScript Interfaces</li> <li>Consistent Naming Convention</li> <li>Component Composition Pattern</li> </ul>"},{"location":"deployment/tech_stack/#zukunftige-erweiterungen","title":"Zuk\u00fcnftige Erweiterungen","text":""},{"location":"deployment/tech_stack/#geplante-libraries","title":"Geplante Libraries","text":"<ul> <li>React Query/TanStack Query: API State Management</li> <li>Zod: Schema Validation</li> <li>React Hook Form: Falls Forms komplexer werden</li> <li>Sentry: Error Tracking</li> <li>Plausible/Matomo: Privacy-friendly Analytics</li> </ul>"},{"location":"frontend/architecture/","title":"Frontend Architektur","text":"<p>Das Frontend ist eine React-Anwendung, die mit TypeScript, Vite und Tailwind CSS erstellt wurde. Sie verwendet die Radix UI Bibliothek f\u00fcr barrierefreie Komponenten.</p>"},{"location":"frontend/architecture/#komponenten-struktur","title":"Komponenten-Struktur","text":"<p>Die Anwendung ist um eine zentrale Wizard-\u00e4hnliche Oberfl\u00e4che (<code>DataProtectionPortal</code>) herum strukturiert.</p> <pre><code>classDiagram\n    class App {\n        +render()\n    }\n    class DataProtectionPortal {\n        -step: int\n        -formData: object\n        +handleNext()\n        +handleBack()\n    }\n    class ProjectTypeSelection {\n        +onSelect(type)\n    }\n    class ExistingProjectForm {\n        +onSubmit(data)\n    }\n    class FileUploadSection {\n        +files: File[]\n        +onUpload(files)\n    }\n    class ConfirmationPage {\n        +details: object\n    }\n    class LanguageContext {\n        +language: string\n        +setLanguage(lang)\n    }\n\n    App --&gt; DataProtectionPortal\n    App --&gt; LanguageContext\n    DataProtectionPortal --&gt; ProjectTypeSelection : Schritt 1\n    DataProtectionPortal --&gt; ExistingProjectForm : Schritt 2 (Bestehend)\n    DataProtectionPortal --&gt; FileUploadSection : Schritt 2 (Neu)\n    DataProtectionPortal --&gt; ConfirmationPage : Schritt 3</code></pre>"},{"location":"frontend/architecture/#schlussel-komponenten","title":"Schl\u00fcssel-Komponenten","text":""},{"location":"frontend/architecture/#dataprotectionportal","title":"<code>DataProtectionPortal</code>","text":"<p>Die Haupt-Container-Komponente, die den Workflow-Status verwaltet (aktueller Schritt, gew\u00e4hlte Institution, Projekttyp).</p>"},{"location":"frontend/architecture/#fileuploadsection","title":"<code>FileUploadSection</code>","text":"<p>Verwaltet den Drag-and-Drop Datei-Upload, die Dateikategorisierung und die Fortschrittsanzeige.</p>"},{"location":"frontend/architecture/#existingprojectform","title":"<code>ExistingProjectForm</code>","text":"<p>Ein Formular zur Angabe von Details f\u00fcr bestehende Projekte (z.B. Nachreichen von Dokumenten zu einem bereits eingereichten Projekt).</p>"},{"location":"frontend/architecture/#confirmationpage","title":"<code>ConfirmationPage</code>","text":"<p>Zeigt eine Zusammenfassung der hochgeladenen Dateien und Projektdetails nach erfolgreicher \u00dcbermittlung an.</p>"},{"location":"frontend/architecture/#state-management","title":"State Management","text":"<ul> <li>Context API: <code>LanguageContext</code> wird f\u00fcr die Verwaltung der Internationalisierung verwendet.</li> <li>Lokaler State: Der meiste Workflow-State wird innerhalb von <code>DataProtectionPortal</code> verwaltet und als Props weitergegeben.</li> </ul>"},{"location":"frontend/architecture/#styling","title":"Styling","text":"<ul> <li>Tailwind CSS 4.0: Utility-first CSS Framework.</li> <li>Radix UI: Headless UI Komponenten f\u00fcr Barrierefreiheit (Dialog, Accordion, etc.).</li> <li>Shadcn UI: Wiederverwendbare Komponenten basierend auf Radix UI und Tailwind (zu finden in <code>src/components/ui</code>).</li> </ul>"},{"location":"frontend/translations/","title":"\u00dcbersetzungen / Translations","text":""},{"location":"frontend/translations/#ubersicht","title":"\u00dcbersicht","text":"<p>Das Datenschutzportal unterst\u00fctzt vollst\u00e4ndige Mehrsprachigkeit mit Deutsch und Englisch.</p>"},{"location":"frontend/translations/#system","title":"System","text":""},{"location":"frontend/translations/#implementierung","title":"Implementierung","text":"<p>Die Internationalisierung ist \u00fcber einen Context-basierten Ansatz implementiert:</p> <ul> <li>Location: <code>/contexts/LanguageContext.tsx</code></li> <li>Unterst\u00fctzte Sprachen: <code>de</code> (Deutsch), <code>en</code> (Englisch)</li> <li>Anzahl \u00dcbersetzungen: 230+ Keys</li> </ul>"},{"location":"frontend/translations/#verwendung","title":"Verwendung","text":"<pre><code>import { useLanguage } from '../contexts/LanguageContext';\n\nconst { t, language, setLanguage } = useLanguage();\n\n// \u00dcbersetzen\n&lt;label&gt;{t('form.email')}&lt;/label&gt;\n\n// Sprache wechseln\n&lt;button onClick={() =&gt; setLanguage('en')}&gt;English&lt;/button&gt;\n</code></pre>"},{"location":"frontend/translations/#translation-keys","title":"Translation Keys","text":""},{"location":"frontend/translations/#institution-selection","title":"Institution Selection","text":"Key DE EN <code>institution.title</code> Datenschutzportal Data Protection Portal <code>institution.subtitle</code> Willkommen beim Datenschutzportal f\u00fcr Forschungsprojekte Welcome to the Data Protection Portal for Research Projects <code>institution.question</code> Zu welcher Institution geh\u00f6ren Sie? Which institution do you belong to? <code>institution.description</code> Bitte w\u00e4hlen Sie die Institution aus, in deren Rahmen Sie Ihre Studie durchf\u00fchren Please select the institution under which you are conducting your study <code>institution.university</code> Universit\u00e4t Frankfurt University of Frankfurt <code>institution.university.desc</code> F\u00fcr Forschungsprojekte der Goethe-Universit\u00e4t Frankfurt am Main For research projects of Goethe University Frankfurt am Main <code>institution.clinic</code> Universit\u00e4tsklinikum Frankfurt University Hospital Frankfurt <code>institution.clinic.desc</code> F\u00fcr klinische Forschungsprojekte des Universit\u00e4tsklinikums For clinical research projects of the University Hospital <code>institution.footer</code> Bei Fragen zur richtigen Auswahl wenden Sie sich bitte an das Datenschutz-Team If you have questions about the right choice, please contact the Data Protection Team"},{"location":"frontend/translations/#project-type-selection","title":"Project Type Selection","text":"Key DE EN <code>projectType.title</code> Datenschutzportal Data Protection Portal <code>projectType.question</code> Was m\u00f6chten Sie tun? What would you like to do? <code>projectType.description</code> W\u00e4hlen Sie aus, ob Sie ein neues Projekt einreichen oder ein bestehendes Projekt bearbeiten m\u00f6chten Choose whether you want to submit a new project or edit an existing project <code>projectType.new</code> Neues Projekt einreichen Submit New Project <code>projectType.new.desc</code> Reichen Sie Datenschutzunterlagen f\u00fcr ein neues Forschungsprojekt ein Submit data protection documents for a new research project <code>projectType.existing</code> Bestehendes Projekt bearbeiten Edit Existing Project <code>projectType.existing.desc</code> Laden Sie zus\u00e4tzliche Dokumente f\u00fcr ein bereits bestehendes Projekt hoch Upload additional documents for an existing project <code>projectType.info</code> Hinweis: F\u00fcr bestehende Projekte ben\u00f6tigen Sie Ihre Projekt-ID... Note: For existing projects, you need your project ID... <code>projectType.back</code> Zur\u00fcck zur Institution-Auswahl Back to Institution Selection"},{"location":"frontend/translations/#existing-project-form","title":"Existing Project Form","text":"Key DE EN <code>existingProject.title</code> Bestehendes Projekt bearbeiten Edit Existing Project <code>existingProject.search</code> Projekt suchen Search Project <code>existingProject.label</code> Projekt-ID oder Projekttitel Project ID or Project Title <code>existingProject.placeholder</code> z.B. PRJ-2024-001 oder \"Studie zur...\" e.g. PRJ-2024-001 or \"Study on...\" <code>existingProject.hint</code> Geben Sie die Projekt-ID oder den vollst\u00e4ndigen Projekttitel ein Enter the project ID or the complete project title <code>existingProject.searching</code> Suche l\u00e4uft... Searching... <code>existingProject.searchButton</code> Projekt suchen Search Project <code>existingProject.infoTitle</code> Hinweise zur Projektsuche Project Search Tips <code>existingProject.info1</code> Die Projekt-ID finden Sie in Ihrer urspr\u00fcnglichen Best\u00e4tigungs-E-Mail You can find the project ID in your original confirmation email <code>existingProject.info2</code> Alternativ k\u00f6nnen Sie nach dem exakten Projekttitel suchen Alternatively, you can search by exact project title <code>existingProject.info3</code> Gro\u00df- und Kleinschreibung wird bei der Suche nicht ber\u00fccksichtigt Case sensitivity is not considered in the search <code>existingProject.notFound</code> Projekt nicht gefunden. Bitte \u00fcberpr\u00fcfen Sie Ihre Eingabe. Project not found. Please check your input. <code>existingProject.error</code> Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut. An error occurred. Please try again. <code>existingProject.back</code> Zur\u00fcck zur Auswahl Back to Selection"},{"location":"frontend/translations/#form","title":"Form","text":"Key DE EN <code>form.title</code> Datenschutzportal Data Protection Portal <code>form.info</code> Bitte laden Sie alle erforderlichen datenschutzrelevanten Dokumente... Please upload all required data protection documents... <code>form.baseData</code> Basisdaten Basic Data <code>form.email</code> E-Mail-Adresse Email Address <code>form.uploaderName</code> Name des Uploaders (optional) Uploader Name (optional) <code>form.projectTitle</code> Projekttitel Project Title <code>form.prospectiveStudy</code> Prospektive Studie / Prospektiver Anteil Prospective Study / Prospective Component <code>form.documents</code> Dokumente hochladen Upload Documents <code>form.required</code> * * <code>form.emailPlaceholder</code> ihre.email@uni-frankfurt.de your.email@uni-frankfurt.de <code>form.namePlaceholder</code> Max Mustermann John Doe <code>form.titlePlaceholder</code> Titel des Forschungsprojekts Title of Research Project <code>form.back</code> Zur\u00fcck zur Auswahl Back to Selection"},{"location":"frontend/translations/#document-categories","title":"Document Categories","text":"Key DE EN <code>category.datenschutzkonzept</code> Datenschutzkonzept Data Protection Concept <code>category.verantwortung</code> \u00dcbernahme der Verantwortung Assumption of Responsibility <code>category.schulung_uni</code> Schulung Uni Nachweis University Training Certificate <code>category.schulung_ukf</code> Schulung UKF Nachweis UKF Training Certificate <code>category.einwilligung</code> Einwilligung Consent <code>category.ethikvotum</code> Ethikvotum Ethics Approval <code>category.sonstiges</code> Sonstiges Other"},{"location":"frontend/translations/#file-upload","title":"File Upload","text":"Key DE EN <code>upload.dropzone</code> Klicken Sie hier oder ziehen Sie Dateien hierher Click here or drag files here <code>upload.formats</code> PDF, DOC, DOCX, ZIP oder andere Dateiformate PDF, DOC, DOCX, ZIP or other file formats <code>upload.preview</code> Vorschau Preview <code>upload.close</code> Schlie\u00dfen Close"},{"location":"frontend/translations/#errors","title":"Errors","text":"Key DE EN <code>error.title</code> Bitte beheben Sie folgende Fehler: Please fix the following errors: <code>error.emailRequired</code> E-Mail-Adresse ist erforderlich Email address is required <code>error.emailInvalid</code> Bitte geben Sie eine g\u00fcltige E-Mail-Adresse ein Please enter a valid email address <code>error.titleRequired</code> Projekttitel ist erforderlich Project title is required <code>error.categoryRequired</code> ist ein Pflichtfeld is a required field <code>error.uploadFailed</code> Ein Fehler ist beim Upload aufgetreten... An error occurred during upload..."},{"location":"frontend/translations/#submit","title":"Submit","text":"Key DE EN <code>submit.filesReady</code> bereit zum Upload ready for upload <code>submit.noFiles</code> Keine Dateien ausgew\u00e4hlt No files selected <code>submit.uploading</code> Wird hochgeladen... Uploading... <code>submit.button</code> Formular absenden und Dokumente hochladen Submit Form and Upload Documents <code>submit.confirmation</code> Mit dem Absenden best\u00e4tigen Sie die Richtigkeit Ihrer Angaben By submitting you confirm the accuracy of your information <code>submit.file</code> Datei file <code>submit.files</code> Dateien files"},{"location":"frontend/translations/#confirmation","title":"Confirmation","text":"Key DE EN <code>confirmation.success</code> Upload erfolgreich abgeschlossen! Upload Completed Successfully! <code>confirmation.message</code> Ihre Dokumente wurden erfolgreich hochgeladen... Your documents have been successfully uploaded... <code>confirmation.details</code> Upload-Details Upload Details <code>confirmation.projectTitle</code> Projekttitel Project Title <code>confirmation.uploader</code> Uploader Uploader <code>confirmation.email</code> E-Mail-Adresse Email Address <code>confirmation.timestamp</code> Upload-Zeitpunkt Upload Time <code>confirmation.documents</code> Hochgeladene Dokumente Uploaded Documents <code>confirmation.emailNotification</code> E-Mail-Benachrichtigung Email Notification <code>confirmation.emailSent</code> Eine Best\u00e4tigungs-E-Mail wurde an {email} gesendet... A confirmation email was sent to {email}... <code>confirmation.teamNotified</code> Das Datenschutz-Team wurde ebenfalls \u00fcber Ihren Upload informiert... The Data Protection Team has also been informed... <code>confirmation.nextSteps</code> Wie geht es weiter? What happens next? <code>confirmation.step1</code> Das Datenschutz-Team pr\u00fcft Ihre hochgeladenen Dokumente The Data Protection Team reviews your uploaded documents <code>confirmation.step2</code> Bei R\u00fcckfragen werden Sie per E-Mail kontaktiert You will be contacted by email if there are any questions <code>confirmation.step3</code> Nach erfolgreicher Pr\u00fcfung erhalten Sie eine Freigabe You will receive approval after successful review <code>confirmation.newUpload</code> Weiteren Upload durchf\u00fchren Perform Another Upload <code>confirmation.footer</code> Bei Fragen wenden Sie sich bitte an das Datenschutz-Team If you have questions, please contact the Data Protection Team <code>confirmation.institution</code> Universit\u00e4t Frankfurt / Universit\u00e4tsklinik University of Frankfurt / University Hospital"},{"location":"frontend/translations/#common","title":"Common","text":"Key DE EN <code>common.back</code> Zur\u00fcck Back"},{"location":"frontend/translations/#neue-ubersetzung-hinzufugen","title":"Neue \u00dcbersetzung hinzuf\u00fcgen","text":""},{"location":"frontend/translations/#1-key-in-languagecontext-hinzufugen","title":"1. Key in LanguageContext hinzuf\u00fcgen","text":"<pre><code>// /contexts/LanguageContext.tsx\nconst translations = {\n  de: {\n    // ... existing translations\n    'new.key': 'Deutsche \u00dcbersetzung',\n  },\n  en: {\n    // ... existing translations\n    'new.key': 'English Translation',\n  }\n};\n</code></pre>"},{"location":"frontend/translations/#2-in-komponente-verwenden","title":"2. In Komponente verwenden","text":"<pre><code>const { t } = useLanguage();\n\n&lt;p&gt;{t('new.key')}&lt;/p&gt;\n</code></pre>"},{"location":"frontend/translations/#best-practices","title":"Best Practices","text":""},{"location":"frontend/translations/#naming-convention","title":"Naming Convention","text":"<pre><code>[section].[subsection].[element]\n</code></pre> <p>Beispiele: - <code>form.email</code> - Formular \u2192 E-Mail - <code>error.emailInvalid</code> - Fehler \u2192 E-Mail ung\u00fcltig - <code>category.datenschutzkonzept</code> - Kategorie \u2192 Datenschutzkonzept</p>"},{"location":"frontend/translations/#pluralisierung","title":"Pluralisierung","text":"<p>Verwende separate Keys f\u00fcr Singular/Plural:</p> <pre><code>{\n  'submit.file': 'Datei',\n  'submit.files': 'Dateien'\n}\n\n// Verwendung\nconst text = count === 1 ? t('submit.file') : t('submit.files');\n</code></pre>"},{"location":"frontend/translations/#variablen-in-ubersetzungen","title":"Variablen in \u00dcbersetzungen","text":"<p>F\u00fcr dynamische Werte nutze Template-Replacement:</p> <pre><code>// Translation\n'confirmation.emailSent': 'Eine E-Mail wurde an {email} gesendet'\n\n// Usage\nconst message = t('confirmation.emailSent').replace('{email}', userEmail);\n</code></pre>"},{"location":"frontend/translations/#fallback","title":"Fallback","text":"<p>Wenn ein Key nicht gefunden wird, wird der Key selbst zur\u00fcckgegeben:</p> <pre><code>t('unknown.key') // \u2192 'unknown.key'\n</code></pre>"},{"location":"frontend/translations/#sprache-andern","title":"Sprache \u00e4ndern","text":""},{"location":"frontend/translations/#in-komponenten","title":"In Komponenten","text":"<pre><code>import { useLanguage } from '../contexts/LanguageContext';\n\nfunction MyComponent() {\n  const { language, setLanguage } = useLanguage();\n\n  return (\n    &lt;button onClick={() =&gt; setLanguage(language === 'de' ? 'en' : 'de')}&gt;\n      {language === 'de' ? 'English' : 'Deutsch'}\n    &lt;/button&gt;\n  );\n}\n</code></pre>"},{"location":"frontend/translations/#automatische-spracherkennung-geplant","title":"Automatische Spracherkennung (geplant)","text":"<pre><code>// Detect browser language\nconst browserLang = navigator.language.split('-')[0];\nconst initialLang = ['de', 'en'].includes(browserLang) ? browserLang : 'de';\n\nconst [language, setLanguage] = useState&lt;Language&gt;(initialLang);\n</code></pre>"},{"location":"frontend/translations/#persistierung-geplant","title":"Persistierung (geplant)","text":"<pre><code>// Save to localStorage\nuseEffect(() =&gt; {\n  localStorage.setItem('language', language);\n}, [language]);\n\n// Load from localStorage\nconst [language, setLanguage] = useState&lt;Language&gt;(\n  () =&gt; (localStorage.getItem('language') as Language) || 'de'\n);\n</code></pre>"},{"location":"frontend/translations/#e-mail-templates","title":"E-Mail Templates","text":"<p>E-Mail-Templates haben separate \u00dcbersetzungen:</p>"},{"location":"frontend/translations/#backend-templates","title":"Backend Templates","text":"<pre><code>backend/app/templates/\n\u251c\u2500\u2500 email_confirmation_de.html\n\u2514\u2500\u2500 email_confirmation_en.html\n</code></pre>"},{"location":"frontend/translations/#beispiel-email_confirmation_dehtml","title":"Beispiel: email_confirmation_de.html","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"de\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Upload-Best\u00e4tigung&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Upload erfolgreich&lt;/h1&gt;\n    &lt;p&gt;Hallo {{ uploader_name }},&lt;/p&gt;\n    &lt;p&gt;Ihr Upload wurde erfolgreich verarbeitet.&lt;/p&gt;\n    &lt;p&gt;&lt;strong&gt;Projekt-ID:&lt;/strong&gt; {{ project_id }}&lt;/p&gt;\n    &lt;p&gt;&lt;strong&gt;Projekttitel:&lt;/strong&gt; {{ project_title }}&lt;/p&gt;\n\n    &lt;h2&gt;Hochgeladene Dokumente:&lt;/h2&gt;\n    &lt;ul&gt;\n    {% for file in files %}\n        &lt;li&gt;{{ file.filename }} ({{ file.category }})&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n\n    &lt;p&gt;Mit freundlichen Gr\u00fc\u00dfen,&lt;br&gt;\n    Ihr Datenschutz-Team&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"frontend/translations/#testing-ubersetzungen","title":"Testing \u00dcbersetzungen","text":""},{"location":"frontend/translations/#manual-testing","title":"Manual Testing","text":"<ol> <li>Sprachwechsel-Button klicken</li> <li>Alle Seiten durchgehen</li> <li>Pr\u00fcfen ob alle Texte korrekt \u00fcbersetzt werden</li> </ol>"},{"location":"frontend/translations/#automatisierte-tests-geplant","title":"Automatisierte Tests (geplant)","text":"<pre><code>// tests/translations.test.ts\nimport { translations } from '../contexts/LanguageContext';\n\ndescribe('Translations', () =&gt; {\n  test('All DE keys have EN translations', () =&gt; {\n    const deKeys = Object.keys(translations.de);\n    const enKeys = Object.keys(translations.en);\n\n    expect(deKeys.sort()).toEqual(enKeys.sort());\n  });\n\n  test('No empty translations', () =&gt; {\n    Object.values(translations.de).forEach(value =&gt; {\n      expect(value).not.toBe('');\n    });\n\n    Object.values(translations.en).forEach(value =&gt; {\n      expect(value).not.toBe('');\n    });\n  });\n});\n</code></pre>"},{"location":"frontend/translations/#export-fur-ubersetzer","title":"Export f\u00fcr \u00dcbersetzer","text":""},{"location":"frontend/translations/#json-export","title":"JSON Export","text":"<pre><code>// scripts/export-translations.ts\nimport fs from 'fs';\nimport { translations } from '../contexts/LanguageContext';\n\n// Export als separate JSON files\nfs.writeFileSync(\n  'translations/de.json',\n  JSON.stringify(translations.de, null, 2)\n);\n\nfs.writeFileSync(\n  'translations/en.json',\n  JSON.stringify(translations.en, null, 2)\n);\n</code></pre>"},{"location":"frontend/translations/#csv-export-fur-ubersetzer","title":"CSV Export (f\u00fcr \u00dcbersetzer)","text":"<pre><code>// scripts/export-csv.ts\nimport fs from 'fs';\nimport { translations } from '../contexts/LanguageContext';\n\nconst keys = Object.keys(translations.de);\nconst csv = ['Key,DE,EN'];\n\nkeys.forEach(key =&gt; {\n  csv.push(`${key},\"${translations.de[key]}\",\"${translations.en[key]}\"`);\n});\n\nfs.writeFileSync('translations.csv', csv.join('\\n'));\n</code></pre>"},{"location":"frontend/translations/#zukunftige-erweiterungen","title":"Zuk\u00fcnftige Erweiterungen","text":""},{"location":"frontend/translations/#weitere-sprachen","title":"Weitere Sprachen","text":"<p>Franz\u00f6sisch, Spanisch, etc. k\u00f6nnen einfach hinzugef\u00fcgt werden:</p> <pre><code>type Language = 'de' | 'en' | 'fr' | 'es';\n\nconst translations = {\n  de: { /* ... */ },\n  en: { /* ... */ },\n  fr: { /* ... */ },\n  es: { /* ... */ }\n};\n</code></pre>"},{"location":"frontend/translations/#icu-message-format-geplant","title":"ICU Message Format (geplant)","text":"<p>F\u00fcr komplexere \u00dcbersetzungen:</p> <pre><code>import { IntlProvider, FormattedMessage } from 'react-intl';\n\n&lt;FormattedMessage\n  id=\"confirmation.emailSent\"\n  values={{ email: userEmail }}\n/&gt;\n</code></pre>"},{"location":"frontend/translations/#translation-management-system","title":"Translation Management System","text":"<p>Integration mit Tools wie: - Lokalise - Crowdin - POEditor</p> <p>F\u00fcr professionelle \u00dcbersetzungsverwaltung.</p>"},{"location":"guidelines/contributing/","title":"Contributing Guide","text":""},{"location":"guidelines/contributing/#willkommen","title":"Willkommen","text":"<p>Vielen Dank f\u00fcr Ihr Interesse, zum Datenschutzportal beizutragen! Dieses Dokument enth\u00e4lt Richtlinien f\u00fcr Entwickler.</p>"},{"location":"guidelines/contributing/#inhaltsverzeichnis","title":"Inhaltsverzeichnis","text":"<ol> <li>Code of Conduct</li> <li>Erste Schritte</li> <li>Entwicklungsworkflow</li> <li>Coding Standards</li> <li>Testing</li> <li>Pull Requests</li> <li>Issue Guidelines</li> </ol>"},{"location":"guidelines/contributing/#code-of-conduct","title":"Code of Conduct","text":"<ul> <li>Respektvoller Umgang mit allen Beitragenden</li> <li>Konstruktives Feedback</li> <li>Fokus auf das Projekt und dessen Ziele</li> <li>Einhaltung von Datenschutzrichtlinien</li> </ul>"},{"location":"guidelines/contributing/#erste-schritte","title":"Erste Schritte","text":""},{"location":"guidelines/contributing/#repository-klonen","title":"Repository klonen","text":"<pre><code>git clone https://github.com/uni-frankfurt/datenschutzportal.git\ncd datenschutzportal\n</code></pre>"},{"location":"guidelines/contributing/#development-setup","title":"Development Setup","text":"<pre><code># Frontend\nnpm install\nnpm run dev\n\n# Backend\ncd backend\npython -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\nuvicorn app.main:app --reload\n</code></pre>"},{"location":"guidelines/contributing/#branch-erstellen","title":"Branch erstellen","text":"<pre><code>git checkout -b feature/your-feature-name\n# oder\ngit checkout -b fix/your-bugfix-name\n</code></pre>"},{"location":"guidelines/contributing/#entwicklungsworkflow","title":"Entwicklungsworkflow","text":""},{"location":"guidelines/contributing/#branch-naming-convention","title":"Branch Naming Convention","text":"<ul> <li>Features: <code>feature/feature-name</code></li> <li>Bugfixes: <code>fix/bug-name</code></li> <li>Dokumentation: <code>docs/doc-name</code></li> <li>Refactoring: <code>refactor/refactor-name</code></li> <li>Tests: <code>test/test-name</code></li> </ul>"},{"location":"guidelines/contributing/#commit-messages","title":"Commit Messages","text":"<p>Folge dem Conventional Commits Standard:</p> <pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;\n</code></pre> <p>Types: - <code>feat</code>: Neues Feature - <code>fix</code>: Bugfix - <code>docs</code>: Dokumentation - <code>style</code>: Formatierung (keine Code-\u00c4nderung) - <code>refactor</code>: Code-Refactoring - <code>test</code>: Tests hinzuf\u00fcgen/\u00e4ndern - <code>chore</code>: Build/Tool-\u00c4nderungen</p> <p>Beispiele:</p> <pre><code>feat(upload): add progress bar for file uploads\n\nAdd visual feedback during upload process with percentage indicator.\nCloses #123\n\n---\n\nfix(validation): correct email regex pattern\n\nThe previous regex did not accept valid email addresses with plus signs.\nFixed by updating the regex pattern in validation.ts.\n\nFixes #456\n\n---\n\ndocs(api): update API documentation for upload endpoint\n\nAdded examples and error codes to improve clarity.\n</code></pre>"},{"location":"guidelines/contributing/#code-review-process","title":"Code Review Process","text":"<ol> <li>Erstelle einen Pull Request</li> <li>Mindestens 1 Reviewer erforderlich</li> <li>Alle Tests m\u00fcssen bestehen</li> <li>Code-Qualit\u00e4t wird gepr\u00fcft</li> <li>Nach Approval wird gemerged</li> </ol>"},{"location":"guidelines/contributing/#coding-standards","title":"Coding Standards","text":""},{"location":"guidelines/contributing/#typescriptreact-frontend","title":"TypeScript/React (Frontend)","text":""},{"location":"guidelines/contributing/#naming-conventions","title":"Naming Conventions","text":"<pre><code>// Components: PascalCase\nexport function FileUploadSection() {}\n\n// Hooks: camelCase mit 'use' Prefix\nexport function useLanguage() {}\n\n// Constants: UPPER_SNAKE_CASE\nconst MAX_FILE_SIZE = 52428800;\n\n// Variables: camelCase\nconst uploadProgress = 0;\n\n// Types/Interfaces: PascalCase\ninterface UploadResponse {}\ntype WorkflowStep = 'institution' | 'form';\n</code></pre>"},{"location":"guidelines/contributing/#component-structure","title":"Component Structure","text":"<pre><code>import { useState } from 'react';\nimport { Button } from './ui/button';\nimport { useLanguage } from '../contexts/LanguageContext';\n\n// 1. Types/Interfaces\ninterface MyComponentProps {\n  title: string;\n  onSubmit: () =&gt; void;\n}\n\n// 2. Component\nexport function MyComponent({ title, onSubmit }: MyComponentProps) {\n  // 3. Hooks\n  const { t } = useLanguage();\n  const [isLoading, setIsLoading] = useState(false);\n\n  // 4. Handlers\n  const handleSubmit = () =&gt; {\n    setIsLoading(true);\n    onSubmit();\n    setIsLoading(false);\n  };\n\n  // 5. Render\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;{title}&lt;/h1&gt;\n      &lt;Button onClick={handleSubmit} disabled={isLoading}&gt;\n        {t('submit.button')}\n      &lt;/Button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"guidelines/contributing/#code-style","title":"Code Style","text":"<pre><code>// \u2705 Good\nconst files = categories.flatMap(cat =&gt; cat.files);\n\n// \u274c Bad\nconst files: File[] = [];\ncategories.forEach(cat =&gt; {\n  cat.files.forEach(file =&gt; {\n    files.push(file);\n  });\n});\n\n// \u2705 Good: Early return\nif (!email) {\n  return;\n}\nprocessEmail(email);\n\n// \u274c Bad: Nested if\nif (email) {\n  processEmail(email);\n}\n\n// \u2705 Good: Destructuring\nconst { email, projectTitle } = formData;\n\n// \u274c Bad\nconst email = formData.email;\nconst projectTitle = formData.projectTitle;\n</code></pre>"},{"location":"guidelines/contributing/#typescript-best-practices","title":"TypeScript Best Practices","text":"<pre><code>// \u2705 Good: Type inference\nconst [count, setCount] = useState(0);\n\n// \u274c Bad: Redundant type\nconst [count, setCount] = useState&lt;number&gt;(0);\n\n// \u2705 Good: Interface for objects\ninterface User {\n  email: string;\n  name?: string;\n}\n\n// \u274c Bad: Type for objects\ntype User = {\n  email: string;\n  name?: string;\n};\n\n// \u2705 Good: Use unknown instead of any\nconst data: unknown = JSON.parse(response);\n\n// \u274c Bad: Avoid any\nconst data: any = JSON.parse(response);\n</code></pre>"},{"location":"guidelines/contributing/#python-backend","title":"Python (Backend)","text":""},{"location":"guidelines/contributing/#naming-conventions_1","title":"Naming Conventions","text":"<pre><code># Functions: snake_case\ndef upload_file():\n    pass\n\n# Classes: PascalCase\nclass NextcloudService:\n    pass\n\n# Constants: UPPER_SNAKE_CASE\nMAX_FILE_SIZE = 52428800\n\n# Variables: snake_case\nupload_progress = 0\n</code></pre>"},{"location":"guidelines/contributing/#code-style-pep-8","title":"Code Style (PEP 8)","text":"<pre><code># \u2705 Good\ndef upload_documents(\n    email: str,\n    project_title: str,\n    files: List[UploadFile]\n) -&gt; UploadResponse:\n    \"\"\"\n    Upload documents to Nextcloud.\n\n    Args:\n        email: User email address\n        project_title: Title of the research project\n        files: List of files to upload\n\n    Returns:\n        Upload response with project ID\n    \"\"\"\n    pass\n\n# Imports gruppiert und sortiert\nimport os\nimport sys\nfrom typing import List\n\nfrom fastapi import FastAPI, UploadFile\nfrom pydantic import BaseModel\n\nfrom app.services.nextcloud import NextcloudService\n</code></pre>"},{"location":"guidelines/contributing/#type-hints","title":"Type Hints","text":"<pre><code># \u2705 Good: Type hints\ndef process_file(file: UploadFile) -&gt; bool:\n    return True\n\n# \u274c Bad: No type hints\ndef process_file(file):\n    return True\n\n# \u2705 Good: Optional types\nfrom typing import Optional\n\ndef get_user(user_id: str) -&gt; Optional[User]:\n    return user or None\n</code></pre>"},{"location":"guidelines/contributing/#csstailwind","title":"CSS/Tailwind","text":"<pre><code>// \u2705 Good: Logical order (layout \u2192 spacing \u2192 typography \u2192 colors \u2192 effects)\n&lt;div className=\"\n  flex flex-col           // Layout\n  gap-4 p-6              // Spacing\n  text-lg                // Typography\n  bg-white text-gray-900 // Colors\n  rounded-lg shadow-md   // Effects\n\"&gt;\n\n// \u274c Bad: Random order\n&lt;div className=\"text-lg rounded-lg flex gap-4 bg-white p-6 shadow-md\"&gt;\n\n// \u2705 Good: Extract repeated classes to component\nconst Card = ({ children }) =&gt; (\n  &lt;div className=\"bg-white rounded-lg shadow-md p-6\"&gt;\n    {children}\n  &lt;/div&gt;\n);\n\n// \u274c Bad: Duplicate classes everywhere\n&lt;div className=\"bg-white rounded-lg shadow-md p-6\"&gt;...&lt;/div&gt;\n&lt;div className=\"bg-white rounded-lg shadow-md p-6\"&gt;...&lt;/div&gt;\n</code></pre>"},{"location":"guidelines/contributing/#testing","title":"Testing","text":""},{"location":"guidelines/contributing/#frontend-tests","title":"Frontend Tests","text":"<pre><code>// Component Test\nimport { render, screen } from '@testing-library/react';\nimport { FileUploadSection } from './FileUploadSection';\n\ndescribe('FileUploadSection', () =&gt; {\n  test('renders upload button', () =&gt; {\n    render(\n      &lt;FileUploadSection\n        category={{ key: 'test', label: 'Test', required: true, files: [] }}\n        isRequired={true}\n        onFilesAdded={jest.fn()}\n        onFileRemoved={jest.fn()}\n      /&gt;\n    );\n\n    expect(screen.getByText(/upload/i)).toBeInTheDocument();\n  });\n\n  test('handles file selection', async () =&gt; {\n    const onFilesAdded = jest.fn();\n    render(&lt;FileUploadSection {...props} onFilesAdded={onFilesAdded} /&gt;);\n\n    const file = new File(['content'], 'test.pdf', { type: 'application/pdf' });\n    const input = screen.getByLabelText(/upload/i);\n\n    await userEvent.upload(input, file);\n\n    expect(onFilesAdded).toHaveBeenCalledWith([file]);\n  });\n});\n</code></pre>"},{"location":"guidelines/contributing/#backend-tests","title":"Backend Tests","text":"<pre><code>import pytest\nfrom httpx import AsyncClient\nfrom app.main import app\n\n@pytest.mark.asyncio\nasync def test_upload_documents():\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        files = [\n            (\"files\", (\"test.pdf\", b\"content\", \"application/pdf\"))\n        ]\n        data = {\n            \"email\": \"test@uni-frankfurt.de\",\n            \"project_title\": \"Test Project\",\n            \"institution\": \"university\"\n        }\n\n        response = await client.post(\"/api/upload\", data=data, files=files)\n\n        assert response.status_code == 200\n        assert response.json()[\"success\"] is True\n        assert \"project_id\" in response.json()\n\n@pytest.mark.asyncio\nasync def test_validation_error():\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        # Missing email\n        data = {\"project_title\": \"Test\"}\n\n        response = await client.post(\"/api/upload\", data=data)\n\n        assert response.status_code == 422\n</code></pre>"},{"location":"guidelines/contributing/#test-ausfuhren","title":"Test ausf\u00fchren","text":"<pre><code># Frontend\nnpm test\nnpm run test:coverage\n\n# Backend\npytest\npytest --cov=app tests/\n</code></pre>"},{"location":"guidelines/contributing/#pull-requests","title":"Pull Requests","text":""},{"location":"guidelines/contributing/#pr-checklist","title":"PR Checklist","text":"<ul> <li>[ ] Code folgt den Coding Standards</li> <li>[ ] Alle Tests bestehen</li> <li>[ ] Neue Tests f\u00fcr neue Features hinzugef\u00fcgt</li> <li>[ ] Dokumentation aktualisiert</li> <li>[ ] Commit Messages folgen Convention</li> <li>[ ] Branch ist aktuell mit main</li> <li>[ ] Keine Merge-Konflikte</li> </ul>"},{"location":"guidelines/contributing/#pr-template","title":"PR Template","text":"<pre><code>## Beschreibung\n&lt;!-- Kurze Beschreibung der \u00c4nderungen --&gt;\n\n## Typ der \u00c4nderung\n- [ ] Bugfix\n- [ ] Neues Feature\n- [ ] Breaking Change\n- [ ] Dokumentation\n\n## Wie wurde getestet?\n&lt;!-- Beschreibung der Tests --&gt;\n\n## Screenshots (falls UI-\u00c4nderungen)\n&lt;!-- Screenshots vor/nach der \u00c4nderung --&gt;\n\n## Checklist\n- [ ] Code folgt Coding Standards\n- [ ] Tests hinzugef\u00fcgt/aktualisiert\n- [ ] Dokumentation aktualisiert\n- [ ] Keine Breaking Changes (oder dokumentiert)\n\n## Related Issues\nCloses #123\n</code></pre>"},{"location":"guidelines/contributing/#review-process","title":"Review Process","text":"<ol> <li>Automatische Checks:</li> <li>Linting</li> <li>Tests</li> <li>Build</li> <li> <p>Code Coverage</p> </li> <li> <p>Code Review:</p> </li> <li>Code-Qualit\u00e4t</li> <li>Best Practices</li> <li>Performance</li> <li> <p>Security</p> </li> <li> <p>Approval:</p> </li> <li>Mindestens 1 Approval erforderlich</li> <li> <p>Alle Kommentare resolved</p> </li> <li> <p>Merge:</p> </li> <li>Squash and Merge (f\u00fcr Features)</li> <li>Rebase and Merge (f\u00fcr Bugfixes)</li> </ol>"},{"location":"guidelines/contributing/#issue-guidelines","title":"Issue Guidelines","text":""},{"location":"guidelines/contributing/#issue-template-bug-report","title":"Issue Template: Bug Report","text":"<pre><code>## Bug Beschreibung\n&lt;!-- Klare Beschreibung des Bugs --&gt;\n\n## Schritte zur Reproduktion\n1. Gehe zu '...'\n2. Klicke auf '...'\n3. Scrolle zu '...'\n4. Fehler tritt auf\n\n## Erwartetes Verhalten\n&lt;!-- Was sollte passieren? --&gt;\n\n## Aktuelles Verhalten\n&lt;!-- Was passiert stattdessen? --&gt;\n\n## Screenshots\n&lt;!-- Falls zutreffend --&gt;\n\n## Umgebung\n- Browser: [z.B. Chrome 120]\n- OS: [z.B. Windows 11]\n- Version: [z.B. 1.0.0]\n\n## Zus\u00e4tzlicher Kontext\n&lt;!-- Weitere relevante Informationen --&gt;\n</code></pre>"},{"location":"guidelines/contributing/#issue-template-feature-request","title":"Issue Template: Feature Request","text":"<pre><code>## Feature Beschreibung\n&lt;!-- Klare Beschreibung des Features --&gt;\n\n## Problem das gel\u00f6st wird\n&lt;!-- Welches Problem l\u00f6st dieses Feature? --&gt;\n\n## Vorgeschlagene L\u00f6sung\n&lt;!-- Wie k\u00f6nnte das Feature implementiert werden? --&gt;\n\n## Alternativen\n&lt;!-- Welche anderen L\u00f6sungen wurden erwogen? --&gt;\n\n## Zus\u00e4tzlicher Kontext\n&lt;!-- Screenshots, Mockups, etc. --&gt;\n</code></pre>"},{"location":"guidelines/contributing/#labels","title":"Labels","text":"<ul> <li><code>bug</code> - Fehler</li> <li><code>feature</code> - Neues Feature</li> <li><code>enhancement</code> - Verbesserung</li> <li><code>documentation</code> - Dokumentation</li> <li><code>good first issue</code> - Gut f\u00fcr Einsteiger</li> <li><code>help wanted</code> - Hilfe ben\u00f6tigt</li> <li><code>priority: high</code> - Hohe Priorit\u00e4t</li> <li><code>priority: low</code> - Niedrige Priorit\u00e4t</li> </ul>"},{"location":"guidelines/contributing/#fragen","title":"Fragen?","text":"<p>Bei Fragen wenden Sie sich an: - E-Mail: dev-team@datenschutzportal.uni-frankfurt.de - Issue: Erstellen Sie ein Issue mit dem Label <code>question</code></p>"},{"location":"guidelines/contributing/#lizenz","title":"Lizenz","text":"<p>Indem Sie zum Projekt beitragen, stimmen Sie zu, dass Ihre Beitr\u00e4ge unter derselben Lizenz wie das Projekt lizenziert werden.</p>"},{"location":"guidelines/general/","title":"General","text":"<p>Add your own guidelines here</p>"}]}