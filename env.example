#
# Datenschutzportal – zentrale Konfiguration (eine .env im Projekt-Root)
#
# Nutzung:
#   cp env.example .env
#   # dann Werte anpassen (Secrets NICHT committen – .env ist via .gitignore ausgeschlossen)
#

# ----------------------------
# Allgemein / Backend Runtime
# ----------------------------
TZ=Europe/Berlin
ENV=dev
LOG_LEVEL=INFO
SERVICE_NAME=datenschutzportal-backend

# Used for HMAC hashing of PII in logs (email_hash, path hashes, ...)
# In production: set to a strong random secret.
LOG_REDACTION_SECRET=change-me-in-production

# FastAPI/uvicorn
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false

# CORS (either JSON array OR comma-separated)
# Examples:
#   CORS_ORIGINS='["https://ds.example.com","http://localhost:3000"]'
#   CORS_ORIGINS=https://ds.example.com,http://localhost:3000
CORS_ORIGINS='["http://localhost:3000","http://127.0.0.1:3000","http://localhost:5173","http://127.0.0.1:5173"]'

# ----------------------------
# Security / Auth
# ----------------------------
# NOTE: The frontend uses VITE_API_TOKEN and will embed it into the built JS bundle.
# So this is NOT a "secret" in the classic sense if the frontend is publicly served.
SECRET_KEY=change-me-in-production
API_TOKEN=test-api-token-for-local-development

# Frontend build-time vars (Vite reads these at build-time!)
VITE_API_URL=http://127.0.0.1:8000/api
# Should match API_TOKEN (same bearer token expected by backend)
VITE_API_TOKEN=test-api-token-for-local-development

# ----------------------------
# Nextcloud
# ----------------------------
NEXTCLOUD_URL=https://your-nextcloud.example.com/remote.php/dav/files/YourUser
NEXTCLOUD_USERNAME=your_username
NEXTCLOUD_PASSWORD=your_password
# Optional (defaults to /Datenschutzportal)
NEXTCLOUD_BASE_PATH=/Datenschutzportal

# ----------------------------
# SMTP / Mail
# ----------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=Datenschutzportal
# starttls | ssl | none
SMTP_ENCRYPTION=starttls

# Notification recipients (JSON array OR comma-separated)
# Examples:
#   NOTIFICATION_EMAILS='["team1@uni-frankfurt.de","team2@uni-frankfurt.de"]'
#   NOTIFICATION_EMAILS=team1@uni-frankfurt.de,team2@uni-frankfurt.de
NOTIFICATION_EMAILS='["admin@example.com"]'

# ----------------------------
# File Upload Limits
# ----------------------------
ALLOWED_FILE_TYPES=.pdf,.doc,.docx,.odt,.ods,.odp,.zip,.png,.jpg,.jpeg,.xlsx,.csv,.odf

# ----------------------------
# Traefik (optional; Compose has defaults)
# ----------------------------
TRAEFIK_ACME_EMAIL=technik@imi-frankfurt.de
TRAEFIK_LOG_LEVEL=DEBUG

# Hosts used in docker-compose labels (optional; Compose has defaults)
FRONTEND_HOST=ds.niceai.de
BACKEND_HOST=api.ds.niceai.de

